---
title: 敵の配置　|　シミュレーションRPGエディター2 ヘルプ　|　サポート　｜　おもしろゲーム神殿
layout: /src/layouts/Base.astro
breadcrumb:
- name: サポート
  url: /menu_support/
- name: シミュレーションRPGエディター2 ヘルプ
  url: /menu_support/srpgeditor2_help/
- name: 敵の配置
  url: /menu_support/srpgeditor2_help/enemy/
description: シミュレーションRPG制作ソフト「シミュレーションRPGエディター2」のオンラインヘルプ。「敵の配置」。
h1: 敵の配置　
---


<a name="TOP"></a> 

## 敵の配置　目次

- [敵を配置する](#PUT)
- [敵パレットの編集](#EDIT)
- [移動AIの編集](#MOVEAI)

## 敵を配置する

敵の配置を行うために、まずパレットモードを敵パレットに切り替えて下さい。  
メインメニューから「編集」＞「パレット変更」＞「敵キャラ」を選択します。  
すると次のウインドウが表示されます。  

敵パレットウインドウ

![敵パレットウインドウのスクショ](/menu_support/srpgeditor2_help/enemy/enemy.jpg)

敵パレットデータは、[データベース「敵キャラ」](../db_enemy/)のデータに移動AIを設定したものです。  
敵パレットデータは、マップチップやイベントのパレットと違ってデフォルトでは1つもデータが用意されておらず、ステージ毎に作成する必要がありますが、それは後ほど解説します。  

敵を配置する方法ですが、敵リストの中から配置したい敵をクリックして選んで下さい。  
次にステージマップ上でクリックすると、先ほど選んだ敵を配置します。  
**ステージマップ上で右クリック（ドラッグも可）すれば、カーソル位置の敵を記憶することもできます。  
※右クリックで記憶した敵を配置しても、敵が複製されるわけではありません。敵を移動させたい時に活用して下さい。**  
**ステージマップ上で右ダブルクリックをすると、カーソル位置の敵を編集します。**  

[このページの先頭へ](#TOP)

## 敵パレットの編集

敵は**リストの上の者から順に行動**します。  
基本的に、味方に近い位置にいる敵ほどリストの上に作成すると良いです。  

敵パレットウインドウ上部の「挿入」「編集」「削除」「データ数」ボタンは、敵のリストを編集するものです。  
「挿入」や「編集」を押すと、次のウインドウが表示されます。  

敵データウインドウ

[![敵データウインドウのスクショ](/menu_support/srpgeditor2_help/enemy/enemydata.jpg)](/menu_support/srpgeditor2_help/enemy/enemydata.jpg)

各設定項目の解説。  

●　グループ  
**グループにはステージマップにおける敵の出現フラグのような役割があります。  
敵にグループを設定してイベントアクション「敵グループの操作」でグループをONやOFFに切り替えることで、増援や伏兵を出したり、逆にステージの途中で敵をグループごと退却させたりできます。**  
＃イベントアクション「敵グループの操作」の詳細や増援の設定例は[「イベントアクション」](../eventact/#OPENEMYGROUP)を参照  
  
イベントアクション「敵グループの操作」以外では、イベントアクション「敵のコピー」、イベントの発生条件における敵条件、移動AIの実行条件などでも敵のグループを指定することができます。  
特に移動AIの実行条件「同一グループの行動範囲内に味方がいたら成立」は地味ながらも重要かもしれません。  
これを設定すれば**グループで動き出すタイミングを統一させる**ことができます。  
デフォルトの移動AIテンプレートのグループ迎撃型でもこの実行条件が組み込まれています。  

●　キャラID  
ここでキャラIDを設定しておくと、**イベントの発生条件における敵条件や、メインメニュー「ステージ」＞「ステージの設定」における勝利条件などのテキスト選択時の「カーソルを合わせる対象」でこのキャラを指定できます。**  

●　データ  
敵のデータです。  
データベース「敵キャラ」の中から指定します。  

●　移動AI（枠）  
移動パターンをリスト形式で設定します。  
移動AIは設定の自由度は高いですが、その分複雑に感じるかもしれません。  
ただ、デフォルトの**移動AIテンプレートから選ぶだけでも十分**だと思います。  
ただし、**テンプレートの名前で「※要編集」と書かれているものは、テンプレート適用後に「使用スキル」（回復スキル）や「位置データ」などの指定が必要**です。  
＃移動AIテンプレートの詳細は[「移動AIテンプレート」](../moveaitemplate/)を参照  
テンプレートから選択せずに１から作る方法は、次の項で解説します。  

[このページの先頭へ](#TOP)

## 移動AIの編集

敵の移動AIは、ステージマップにおいて行動キャラのターンが回ってくると**移動AIリストの上のデータから順に実行を試みます。**  
**実際に実行される移動AIデータはたった1つですから、移動AIリストの上のものほど実行の優先度が高い**ということです。  
**実行が成功するかどうかは設定と状況によりますが、基本的にはゲームシステム上動作可能かどうか、もしくは（敵の立場で）動作する意味があるかどうかで決まります。**  
ちなみに、**全ての移動AIで失敗した場合、その場で待機します。**  

ウインドウ上部の「挿入」「編集」「削除」ボタンは、移動AIリストを編集するものです。 「挿入」か「編集」を押すと以下のウインドウが表示されます。

移動AIウインドウ

[![移動AIウインドウのスクショ](/menu_support/srpgeditor2_help/enemy/moveai.jpg)](/menu_support/srpgeditor2_help/enemy/moveai.jpg)

移動AIは「［範囲］で［対象］に［行動］」の形式で設定します。  
さらに実行条件を設定することもできます。  
各設定項目の解説。  

●　[範囲]  
どの範囲までの［対象］を、移動AIにおける対象の候補とするか。  
次の種類があります。  
  
○ マップ全範囲内  
ステージマップに存在する全てのキャラが対象の候補となります。  
  
○ 行動範囲内  
**［行動］が「待機」の場合は自分の移動範囲内、［行動］が「戦闘」か「回復」の場合は自分の移動範囲＋１の範囲内**のキャラ（自分も含む）が対象の候補となります。  
  
○ 自分＋隣4マス内  
自分の位置と、その隣4マスにいるキャラが対象の候補となります。  

●　[対象]  
移動や行動の対象となるキャラです。  
［範囲］で指定した範囲内に該当するキャラが存在しない場合、移動AIは失敗します。  
また、**［範囲］が「マップ全範囲内」のとき、マップ全範囲内に該当するキャラがいても、途中で移動不可能な地形があったり行動キャラの移動力を超えた移動コストの地形があって何ターンかけても辿りつけない場所に対象がいる場合も移動AIは失敗します。**  
[対象]の種類は次のとおりです。  
  
○　最も近い味方  
最も近い味方を対象にします。  
  
○　最も効果的な味方（物理攻撃計算）  
敵が物理で攻撃すると仮定したとき、最も効果的と判断した味方を対象にします。  
詳細を言うと、プログラム内部で各キャラに対して下記の式で優先値を算出し、最も優先値が高いキャラを対象にしています。  
  
・マニュアル戦闘時  
優先値　＝　物理攻撃スキルのダメージ期待値　×　行動回数　－　味方の残りHP  
  
**「ダメージ期待値」は、命中率・必殺率・地形効果・属性・相性タイプが考慮されています。  
マニュアル戦闘における「ダメージ期待値」は、戦闘AIのデータリストに設定されたスキルの中で使用可能な物理攻撃系スキル（通常攻撃が物理攻撃系ならそれも含む）全てのダメージ期待値の平均となります。（プログラムは戦闘AIの優先レベルや優先度、各条件までは解析してくれません）**  
＃戦闘AIの解説は[データベース「敵キャラ」](../db_enemy/#BATTLEAI)を参照  
  
実際には物理攻撃が優先されるだけで、物理攻撃スキルが使用できない場合は魔法攻撃スキルのダメージ期待値が求められますし、物理も魔法も使用できない場合はSPや使用回数が尽きても使用できる通常攻撃でダメージ期待値が求められます。  
フローチャートで表すと次のようになります。  
  
**戦闘AIの中で、物理攻撃が1つ以上使える？　YES→　使用可能な全ての物理攻撃の平均ダメージ期待値を基に行動対象を決定！  
NO↓  
戦闘AIの中で、魔法攻撃が1つ以上使える？　YES→　使用可能な全ての魔法攻撃の平均ダメージ期待値を基に行動対象を決定！  
NO↓  
通常攻撃のダメージ期待値を基に行動対象を決定！  
**  
戦闘AIの設定で「マニュアル戦闘時、移動AIの「最も効果的な味方」の行動対象を決める計算でこの行動を無視する」にチェックを入れると、その行動は「ダメージ期待値」（の平均値）の計算から除外できます。  
**もし、データベース「クラス」の設定で通常攻撃用に指定したスキルが、SPや使用回数が尽きたときのみに仕方なく使うような極めて低い性能で、通常攻撃を戦闘AIに組み込みたい場合は「マニュアル戦闘時、移動AIの「最も効果的な味方」の行動対象を決める計算でこの行動を無視する」にチェックを入れるべきです。それによって移動AIの精度が向上します。  
より良い方法は、通常攻撃を戦闘AIのデータリストに作成しないことです。  
通常攻撃を戦闘AIのデータリストに作成しなくても、（SP不足などで）何も使用するスキルがないときは勝手に通常攻撃になってくれますし、戦闘AIにない行動は「ダメージ期待値」（の平均値）の計算からも除外されるので、設定する手間も省けて一石二鳥だったりします。  
**具体例を示すと  
  
\------------------------  
ジャンプ斬り（命中率100 スキルの攻撃力20）　優先レベル2  
ファイア（命中率90 スキルの攻撃力30）　優先レベル2  
通常攻撃（命中率50 スキルの攻撃力0） 　優先レベル1　「マニュアル戦闘時、移動AIの「最も効果的な味方」の行動対象を決める計算でこの行動を無視する」をON  
\------------------------  
  
これと  
  
\------------------------  
ジャンプ斬り（命中率100 スキルの攻撃力20）　優先レベル1  
ファイア（命中率90 スキルの攻撃力30）　優先レベル1  
\------------------------  
  
これは、ゲームでの挙動は全く同じです。  
下の方が楽ですし、戦闘AIのデータリストがスッキリするのでオススメです。  
  
・オート戦闘時  
優先値　＝　ダメージ期待値　×　行動回数　－　味方の残りHP  
  
オート戦闘における「ダメージ期待値」は敵が装備しているスキル1回のダメージ期待値です。  
**「ダメージ期待値」は、命中率・必殺率・地形効果・属性・相性タイプが考慮されています。  
**なお、**オート戦闘ではキャラが装備しているスキルが戦闘で必ず使用されるため、プログラムも戦闘AIを解析する必要がなく、「最も効果的な味方（物理攻撃計算）」「最も効果的な味方（魔法攻撃計算）」「最も効果的な味方（物理と魔法）」の3つを使い分ける必要もありません。どれも同じです。**  
  
○　最も効果的な味方（魔法攻撃計算）  
「最も効果的な味方（物理攻撃計算）」の魔法攻撃版です。  
具体的には、プログラム内部で各キャラに対して下記の式で優先値を算出し、最も優先値が高いキャラを対象にしています。  
  
優先値　＝　魔法攻撃スキルのダメージ期待値　×　行動回数　－　味方の残りHP  
  
**マニュアル戦闘の場合、前作だと魔法攻撃スキルを使用するためのSPが足りないと移動AIが失敗しましたが、今作では魔法攻撃が優先されるだけで、魔法が使用できない場合は物理攻撃スキルのダメージ期待値が求められますし、魔法も物理も使用できない場合はSPや使用回数が尽きても通常攻撃でダメージ期待値が求められるため、使用可能なスキルがないという理由で移動AIが失敗することはありません。**（例外的には通常攻撃が攻撃系のスキルでない場合は失敗します）  
フローチャートで表すと次のようになります。  
  
**戦闘AIの中で、魔法攻撃が1つ以上使える？　YES→　使用可能な全ての魔法攻撃の平均ダメージ期待値を基に行動対象を決定！  
NO↓  
戦闘AIの中で、物理攻撃が1つ以上使える？　YES→　使用可能な全ての物理攻撃の平均ダメージ期待値を基に行動対象を決定！  
NO↓  
通常攻撃のダメージ期待値を基に行動対象を決定！  
**  
オート戦闘では、「最も効果的な味方（物理攻撃計算）」「最も効果的な味方（魔法攻撃計算）」「最も効果的な味方（物理と魔法）」の3つを使い分ける必要はありません。どれも同じです。  
  
○　最も効果的な味方（物理と魔法）  
「最も効果的な味方（物理攻撃計算）」の物理攻撃＆魔法攻撃版です。  
マニュアル戦闘であれば、物理攻撃と魔法攻撃どちらも同程度の割合で使用する敵に設定するといいでしょう。  
具体的には、プログラム内部で各キャラに対して下記の式で優先値を算出し、最も優先値が高いキャラを対象にしています。  
  
優先値　＝　物理攻撃と魔法攻撃スキルのダメージ期待値　×　行動回数　－　味方の残りHP  
  
**マニュアル戦闘の場合、物理攻撃スキルも魔法攻撃スキルも使用できない場合はSPや使用回数が尽きても使用できる通常攻撃でダメージ期待値が求められます。**  
フローチャートで表すと次のようになります。  
  
**戦闘AIの中で、物理攻撃か魔法攻撃が1つ以上使える？　YES→　使用可能な全ての物理攻撃と魔法攻撃の平均ダメージ期待値を基に行動対象を決定！  
NO↓  
通常攻撃のダメージ期待値を基に行動対象を決定！  
**  
オート戦闘では、「最も効果的な味方（物理攻撃計算）」「最も効果的な味方（魔法攻撃計算）」「最も効果的な味方（物理と魔法）」の3つを使い分ける必要はありません。どれも同じです。  
  
○　最もHPが低い味方  
最もHPが低い味方を対象にします。  
  
○　リーダーの味方  
リーダーを対象にします。  
  
○　味方の誰か（ランダム）  
味方の誰かをランダムに選んで対象にします。  
  
○　最も近い敵  
最も近い敵を対象にします。  
当然ですが、自分は対象になりません。（自分を含めたら、常時自分が対象になってしまう…）  
  
○　最も弱っている敵  
最もHPが低い敵を対象にします。  
ただし、**HPが減っていない敵は対象になりません。**  
  
○　自分自身  
自分自身を対象とします。  
  
○　最も近い目的地  
**指定した目的地の中で、最も近い位置を対象にします。**  
目的地は、別項目「目的地」で「位置グループ」のデータを指定します。  
※目的地には、位置データが5点以上の位置グループは指定できません。PCへの負荷を考えて4点までに制限してあります。  

●　[行動]  
敵がとる行動です。  
次の種類があります。  
  
○　待機  
［範囲］と［対象］によって決められた対象になるべく近づけるように移動します。  
待機は、その性質上行動対象を必要としないため（隣にキャラがいなくても実行できるため）、［範囲］が「マップ全範囲内」なら、ほとんどのケースで移動AIが成功します。  
例えば、移動AIの設定が　「マップ全範囲内」　で　「最も近い味方」　に　「待機」　で、そのターンに**「最も近い味方」の隣に移動できない場合でも、「待機」することは可能なので移動AIは成功する（※）**のです。（これが行動対象が必要な「戦闘」や「スキル」（スキルで回復）だと移動AIは失敗します）  
**味方がいる方向や目的地等に移動させたい場合は「待機」を設定しましょう。**  
**※ただし、移動経路に移動不可能な地形（移動コスト＞移動力 or 「移動不可」の地形）があって何ターン移動してもターゲットに行動（戦闘または回復）できない場合、そのキャラは行動対象の候補から外される。また、[対象]の全てがその状況であれば移動AIは失敗する。**  
  
○　戦闘  
［範囲］と［対象］によって決められた対象へ戦闘を仕掛けます。  
**［対象］に味方系以外が指定されていると、移動AIは必ず失敗します。**  
何故なら、シミュレーションRPGエディター2では同士討ちはできないため、動作不可能だからですね。  
  
○　回復  
［範囲］と［対象］によって決められた対象へ回復系のスキルを使用します。  
**［対象］に敵系以外が指定されていると、移動AIは必ず失敗します。**  
回復系スキルの指定は、別項目「使用スキル」で行って下さい。  
※使用スキルには、編集中のキャラの戦闘AIに組み込まれたスキルしか指定できません。未習得スキルを指定すると、必ず移動AIが失敗します。  

---

「実行条件」枠

●　条件あり  
実行条件を有効にします。  
実行条件が成立しなかった場合、移動AIは失敗します。  

●　このキャラが一度でも移動または行動したことがあるなら成立  
そのまんま。  

●　同一グループの行動範囲内に味方がいたら成立  
これにチェックを入れると、自分だけでなく自分と同じグループの敵の行動範囲内に味方がいれば条件が成立します。  

●　ステータス条件  
自分自身のステータスを条件にします。  

●　コモン変数条件  
コモン変数の値を条件にします。  

●　判定タイプ  
以上の実行条件の成否を基に、最終的にどのように実行条件全体を判定するか。  
ここで「真」とは設定された条件が満たされたことを言います。  

●　一度でも条件が成立していると、以後無条件で成立  
そのまんま。

[このページの先頭へ](#TOP)

---

  

[次の解説へ](../moveaitemplate/)

[ヘルプ目次へ](../)