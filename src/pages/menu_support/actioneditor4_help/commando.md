---
title: コマンドの設定
layout: /src/layouts/Base.astro
breadcrumb:
  - name: サポート
    url: /menu_support/
  - name: アクションエディター4 ヘルプ
    url: /menu_support/actioneditor4_help/
  - name: コマンドの設定
    url: /menu_support/actioneditor4_help/commando/
---

<a name="TOP"></a>

## コマンドの設定　目次

■　キャラ専用コマンド

- [ウエイト](#WAIT)
- [直線移動](#MOVE_LINE)
- [地上折り返し移動](#MOVE_TURN)
- [円移動](#MOVE_CIRCLE)
- [突撃移動](#MOVE_CHARGE)
- [誘導移動](#MOVE_HOMING)
- [画面外回避移動](#MOVE_SCRIN)
- [移動の無効化](#MOVE_STOP)
- [向き変更](#CHANGEDIR)
- [ジャンプ](#JUMP)
- [ショット](#SHOT)
- [ソード](#SWORD)
- [ブロック召喚](#SUMMONBLOCK)
- [キャラ召喚](#SUMMONCHARA)
- [アイテム召喚](#SUMMONITEM)
- [フローの操作](#FLOW)

■　アイテム専用コマンド

- [フローの変更](#CHANGEFLOW)

■　キャラとアイテムの共通コマンド

- [ステージクリア](#CLEAR)
- [ゲームウエイト](#GAMEWAIT)
- [メッセージ](#MESSAGE)
- [ワープ](#WARP)
- [ターゲットの設定](#TARGET)
- [ステータスの操作](#STATUS)
- [ステータスの操作2](#STATUS_2)
- [消滅](#VANISH)
- [アイテムの取得](#GETITEM)
- [グラフィックの変更](#GRAPHIC)
- [基本アニメセットの変更](#ANIMSET)
- [アニメの実行](#ANIM)
- [エフェクトの実行](#EFFECT)
- [キャラエフェクトの実行](#CHARAEFFECT)
- [画面エフェクトの実行](#SCREFFECT)
- [ピクチャーの表示](#PICTURE)
- [画面の色を変更](#SCRCOLOR)
- [背景の変更](#BACK)
- [効果音の再生](#SOUND)
- [BGMの再生](#BGM)
- [コードの実行](#CODE)
- [アレンジ](#ARRANGE)
- [ループ](#LOOP)

## ウエイト

![](/menu_support/actioneditor4_help/commando/Wait.jpg)  
  
キャラが待機します（何もしません）。  
**このコマンド単体で設定しても無意味ですが、他のコマンドの実行開始時間を調整するのに重宝します。  
**  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  

[このページの先頭へ](#TOP)

## 直線移動

![](/menu_support/actioneditor4_help/commando/MoveLine.jpg)  
  
キャラが直線状に移動します。  
歩行キャラは縦方向の移動が全て無効になります。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「移動方向」枠  
  
●　設定タイプ  
移動方向の設定の仕方です。 ・方向で指定　…　単純な方向で指定します。  
・目標座標で指定　…　目標座標で指定します。その目標に向かってキャラが移動します。  
  
●　方向  
移動方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じて移動します。  
  
●　実行途中でキャラの向きが変わったら、速度を反転　※向き固定時のみ有効  
**例えば「ブロックに当たったら移動方向が反転する」などの動作を完璧に（自然に）実現させたい場合、これにチェックを入れて下さい。  
**  
●　目標タイプ  
移動目標となる座標の種類です。  
・配置位置からの相対座標　…　キャラの初期位置を座標（0,0）とした相対座標です。  
・相対座標　…　コマンド実行時におけるキャラの位置を座標(0,0)とした相対座標です。  
・絶対座標　…　ステージ座標です。ステージの一番左上を座標(0,0)とします。  
・画面座標　…　ゲーム画面の一番左上を座標(0,0)とします。  
  
●　目標X(bl)  
●　目標Y(bl)  
移動目標となる座標です。  
ドット単位でずらすこともできます。  
「目標タイプ」が「配置位置からの相対座標」か「相対座標」のときに「右向き配置なら反転」にチェックを入れると、キャラが右向きに配置されている場合に目標座標の符号(+-)が反転します。  
**※「直線移動」コマンドはコマンド実行開始時に移動方向や速度が決まるので、他の移動コマンドと並行して実行したりコマンド実行途中に衝撃を受けたりすると、その分目標座標からずれてしまいます。**  
●　目標座標に着くまで実行  
目標座標に着くまで実行するかどうか。  
  
●　ブレを防止  
**目標座標に着いた後、キャラの表示がブレるのを防ぐかどうか。  
**実行速度はやや低下します。  
  
●　角度  
移動角度のズレです。  
**「右向き配置なら逆回転」にチェックを入れると、キャラが右向きに配置されている場合に角度の符号(+-)が反転します。  
これによって、キャラが左向きで配置されても右向きで配置されても上下の移動が逆にならずに済みます。**  
**ただし、「方向」が「入力方向」だと「右向き配置なら逆回転」は必ず無効になります。  
※キャラの「向き固定」が無効のとき、移動方向や目標によってキャラの向きが決まりますが「角度」を変えてもキャラの向きは変わりません。**  
  
●　横方向の移動を無効化  
横方向の移動速度が0になります。  
  
●　縦方向の移動を無効化  
縦方向の移動速度が0になります。  
  
●　キャラの向きを変えない  
「向き固定」が無効のとき、移動方向に応じて強制的にキャラの向きが変わりますが、これにチェックを入れるとキャラの向きが変わらなくなります。

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度・移動距離の設定の仕方です。  
**・時間と速度を指定　…　「実行時間」と「速度」を指定します。移動距離は「実行時間」×「速度」になります。  
・時間と距離を指定　…　「実行時間」と「距離」を指定します。移動速度は「距離」÷「実行時間」になります。  
・速度と距離を指定　…　「速度」と「距離」を指定します。移動時間は「距離」÷「速度」になります。  
**  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　距離  
移動距離です。  
距離の単位を「(hbl)」か「(dot)」かどちらか選ぶことができます。  
**主人公の移動など、1回の移動で（1回の移動キーの入力で）少ししかキャラを動かしたくない場合、「設定タイプ」を「速度と距離を指定」にして「距離」を短く設定するといいでしょう。** ※「設定タイプ」が「速度と距離」の場合、「距離(dot)」÷「速度」の結果が0.10以上(-0.10以下)になるように設定しないと正しい速度で移動してくれません。  
※「設定タイプ」が「時間と距離」の場合、「距離(dot)」÷「時間」の結果が-600～600になるように設定しないと速度制限がかかって移動距離も短くなります。  

---

「慣性」枠  
  
●　慣性  
移動に慣性をつけるかどうか。  
**慣性有効時は「速度」が加速度として扱われます。  
****目標座標への移動や「距離」は慣性が考慮されていないので、慣性をつけると目標座標へ正確に移動できないし移動距離も設定した通りになりません。**  
  
●　最大速度  
慣性有効時の移動における最大速度です。  
**「慣性」が有効な移動コマンドを複数同時に実行した場合、「最大速度」はそれらの移動コマンドの中で最も遅い最大速度が適用されます**（正確にはその最大速度＋αですが、詳しくは解説しません）。  
  
●　方向転換時の速度修正  
コマンド実行時に慣性移動速度が移動方向の逆方向にかかっているとき、この値に従って速度を修正します。  
「1.0」なら速度を修正しません。  
この値が高いほど移動方向を短時間で変えることができるので動きやすくなります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 地上折り返し移動

![](/menu_support/actioneditor4_help/commando/MoveTurn.jpg)  
  
キャラがブロックの上を往復します。  
**基本は直進ですが、足場がなくなるとキャラの向きが反転して移動方向が変わります。**  
※このコマンドは歩行キャラのみに有効です。  
※キャラの「向き固定」が有効であっても、折り返しの際にキャラの向きが反転します。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度・移動距離の設定の仕方です。  
**・時間と速度を指定　…　「実行時間」と「速度」を指定します。移動距離は「実行時間」×「速度」になります。  
・時間と距離を指定　…　「実行時間」と「距離」を指定します。移動速度は「距離」÷「実行時間」になります。  
・速度と距離を指定　…　「速度」と「距離」を指定します。移動時間は「距離」÷「速度」になります。  
**  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　距離  
移動距離です。  
距離の単位を「(hbl)」か「(dot)」かどちらか選ぶことができます。  
※「設定タイプ」が「速度と距離」の場合、「距離(dot)」÷「速度」の結果が0.10以上(-0.10以下)になるように設定しないと正しい速度で移動してくれません。  

---

「慣性」枠  
  
●　慣性  
移動に慣性をつけるかどうか。  
**慣性有効時は「速度」が加速度として扱われます。  
****「距離」は慣性が考慮されていないので、慣性をつけると移動距離が設定した通りになりません。**  
  
●　最大速度  
慣性有効時の移動における最大速度です。  
**「慣性」が有効な移動コマンドを複数同時に実行した場合、「最大速度」はそれらの移動コマンドの中で最も遅い最大速度が適用されます**（正確にはその最大速度＋αですが、詳しくは解説しません）。  
  
●　方向転換時の速度修正  
コマンド実行時に慣性移動速度が移動方向の逆方向にかかっているとき、この値に従って速度を修正します。  
「1.0」なら速度を修正しません。  
この値が高いほど移動方向を短時間で変えることができるので動きやすくなります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 円移動

![](/menu_support/actioneditor4_help/commando/MoveCircle.jpg)  
  
キャラが円を描くように移動します。  
歩行キャラは縦方向の移動が全て無効になります。  
**※厳密には完全な円の軌道にはなりません。円移動させながら長時間放置しておくと円の中心がズレてしまいます。**  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「移動方向」枠  
  
●　回転方向  
回転方向です。  
右回り　…　右回り（時計回り）に回転します。  
左回り　…　左回り（反時計回り）に回転します。  
左向きなら右回り、右向きなら左回り　…　コマンド実行時にキャラが左向きなら右回り、キャラが右向きなら左回りに回転します。  
左向きなら左回り、右向きなら右回り　…　コマンド実行時にキャラが左向きなら左回り、キャラが右向きなら右回りに回転します。  
  
●　右向き配置なら逆回転、開始・終了角度+180度  
これにチェックを入れると、キャラが右向きに配置されている場合に「回転方向」が逆回りになり、「開始角度」と「終了角度」が+180度されます。  
  
●　右向き配置なら逆回転  
これにチェックを入れると、キャラが右向きに配置されている場合に「回転方向」が逆回りになります。  
  
●　横方向の移動を無効化  
横方向の移動速度が0になります。  
  
●　縦方向の移動を無効化  
縦方向の移動速度が0になります。  
  
●　キャラの向きを変えない  
「向き固定」が無効のとき、移動方向に応じて強制的にキャラの向きが変わりますが、これにチェックを入れるとキャラの向きが変わらなくなります。

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度の設定の仕方です。  
**・時間を指定　…　「実行時間」を指定します。移動速度に大きく影響する増加角度は｛（「終了角度」－「開始角度」）÷「実行時間」｝になります。  
・速度を指定　…　「速度（増加角度）」を指定します。移動時間は｛（「終了角度」－「開始角度」）÷「速度（増加角度）」）｝になります。**  
※｛（「終了角度」－「開始角度」）÷増加角度｝が割り切れるように設定しないと正しく動作しません。例えば、丁度1周（0→360度）させるつもりが1周する手前で止まってしまったりします。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度(増加角度)  
移動速度に大きく影響する増加角度です。  
これが高いほど移動速度が上がります。  
「60」で、1秒間に約1周します。  
  
●　開始角度  
●　終了角度  
●　半径(hbl)  
この「開始角度」・「終了角度」・「半径」の3つで移動距離が決まります。 **この3つは「直線移動」コマンド等の「距離」に相当するもので、この設定次第で「実行時間」または「速度（増加角度）」が変化します。  
**キャラは「開始角度」から「終了角度」までを円を描くように移動します。  
※時計で12時の方向（真上）を0度として角度を指定して下さい。  
「半径」はこのときの円の半径になります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 突撃移動

![](/menu_support/actioneditor4_help/commando/MoveCharge.jpg)  
  
キャラが**ターゲットに向かって**移動します。  
移動方向（移動速度）はコマンド実行開始時に決められ、その後は一定です。  
歩行キャラは縦方向の移動が全て無効になります。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「移動方向」枠  
  
●　ターゲット  
移動目標となるターゲットです。  
  
●　目標のズレX(bl)  
●　目標のズレY(bl)  
移動目標（ターゲットの位置）のズレです。  
ドット単位でずらすこともできます。  
「右向き配置なら反転」にチェックを入れると、キャラが右向きに配置されている場合に目標のズレの符号(+-)が反転します。  
  
●　角度  
移動角度のズレです。  
**「右向き配置なら逆回転」にチェックを入れると、キャラが右向きに配置されている場合に角度の符号(+-)が反転します。  
これによって、キャラが左向きで配置されても右向きで配置されても上下の移動が逆にならずに済みます。**  
**※キャラの「向き固定」が無効のとき、ターゲット（目標）によってキャラの向きが決まりますが「角度」を変えてもキャラの向きは変わりません。**  
  
●　横方向の移動を無効化  
横方向の移動速度が0になります。  
  
●　縦方向の移動を無効化  
縦方向の移動速度が0になります。  
  
●　キャラの向きを変えない  
「向き固定」が無効のとき、移動方向に応じて強制的にキャラの向きが変わりますが、これにチェックを入れるとキャラの向きが変わらなくなります。

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度・移動距離の設定の仕方です。  
**・時間と速度を指定　…　「実行時間」と「速度」を指定します。移動距離は「実行時間」×「速度」になります。  
・時間と距離を指定　…　「実行時間」と「距離」を指定します。移動速度は「距離」÷「実行時間」になります。  
・速度と距離を指定　…　「速度」と「距離」を指定します。移動時間は「距離」÷「速度」になります。  
****※速度を負の値にすると移動方向が真逆(＋180度)になるのではなく、ターゲットから離れるようにキッチリ斜め（縦と横の移動速度が同じ）に移動します。  
**  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　距離  
移動距離です。  
距離の単位を「(hbl)」か「(dot)」かどちらか選ぶことができます。  
※「設定タイプ」が「速度と距離」の場合、「距離(dot)」÷「速度」の結果が0.10以上(-0.10以下)になるように設定しないと正しい速度で移動してくれません。  

---

「慣性」枠  
  
●　慣性  
移動に慣性をつけるかどうか。  
**慣性有効時は「速度」が加速度として扱われます。  
****突撃移動（ターゲットへの移動）や「距離」は慣性が考慮されていないので、慣性をつけるとターゲットの方へ正確に移動できないし移動距離も設定した通りになりません。**  
  
●　最大速度  
慣性有効時の移動における最大速度です。  
**「慣性」が有効な移動コマンドを複数同時に実行した場合、「最大速度」はそれらの移動コマンドの中で最も遅い最大速度が適用されます**（正確にはその最大速度＋αですが、詳しくは解説しません）。  
  
●　方向転換時の速度修正  
コマンド実行時に慣性移動速度が移動方向の逆方向にかかっているとき、この値に従って速度を修正します。  
「1.0」なら速度を修正しません。  
この値が高いほど移動方向を短時間で変えることができるので動きやすくなります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 誘導移動

![](/menu_support/actioneditor4_help/commando/MoveHoming.jpg)  
  
キャラが**ターゲットに向かって**移動します。  
移動方向・移動速度は、コマンド実行中は常に（1フレームごとに）変化し続けるので、コマンド実行途中にターゲットが動いてもしつこく追いかけてくれます。  
歩行キャラは縦方向の移動が全て無効になります。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「移動方向」枠  
  
●　ターゲット  
移動目標となるターゲットです。  
  
●　誘導精度の悪さ  
**これが高いほど、誘導の正確性が落ちます。  
具体的には「何フレーム前のターゲットの位置を移動目標とするか」です。  
**  
●　目標のズレX(bl)  
●　目標のズレY(bl)  
移動目標（ターゲットの位置）のズレです。  
ドット単位でずらすこともできます。  
「右向き配置なら反転」にチェックを入れると、キャラが右向きに配置されている場合に目標のズレの符号(+-)が反転します。  
  
●　ブレを防止（※オートスクロール中だとブレてしまう）  
**ターゲットと重なった後、キャラの表示がブレるのを防ぐかどうか。  
**実行速度はやや低下します。  
  
●　横方向の移動を無効化  
横方向の移動速度が0になります。  
  
●　縦方向の移動を無効化  
縦方向の移動速度が0になります。  
  
●　キャラの向きを変えない  
「向き固定」が無効のとき、移動方向に応じて強制的にキャラの向きが変わりますが、これにチェックを入れるとキャラの向きが変わらなくなります。

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度・移動距離の設定の仕方です。  
**・時間と速度を指定　…　「実行時間」と「速度」を指定します。移動距離は「実行時間」×「速度」になります。  
・時間と距離を指定　…　「実行時間」と「距離」を指定します。移動速度は「距離」÷「実行時間」になります。  
・速度と距離を指定　…　「速度」と「距離」を指定します。移動時間は「距離」÷「速度」になります。  
****※速度を負の値にすると移動方向が真逆(＋180度)になるのではなく、ターゲットから離れるようにキッチリ斜め（縦と横の移動速度が同じ）に移動します。  
**  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　距離  
移動距離です。  
距離の単位を「(hbl)」か「(dot)」かどちらか選ぶことができます。  
※「設定タイプ」が「速度と距離」の場合、「距離(dot)」÷「速度」の結果が0.10以上(-0.10以下)になるように設定しないと正しい速度で移動してくれません。  

---

「慣性」枠  
  
●　慣性  
移動に慣性をつけるかどうか。  
**慣性有効時は「速度」が加速度として扱われます。  
****誘導移動（ターゲットへの移動）や「距離」は慣性が考慮されていないので、慣性をつけるとターゲットの方へ正確に移動できないし移動距離も設定した通りになりません。**  
  
●　最大速度  
慣性有効時の移動における最大速度です。  
**「慣性」が有効な移動コマンドを複数同時に実行した場合、「最大速度」はそれらの移動コマンドの中で最も遅い最大速度が適用されます**（正確にはその最大速度＋αですが、詳しくは解説しません）。  
  
●　方向転換時の速度修正  
コマンド実行時に慣性移動速度が移動方向の逆方向にかかっているとき、この値に従って速度を修正します。  
「1.0」なら速度を修正しません。  
この値が高いほど移動方向を短時間で変えることができるので動きやすくなります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 画面外回避移動

![](/menu_support/actioneditor4_help/commando/MoveScrin.jpg)  
  
**キャラが画面外にいるとき、なるべく画面の中に入るように移動します。**  
歩行キャラは縦方向の移動が全て無効になります。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  

---

「移動方向」枠  
  
●　方向  
移動方向です。  
**例えば「左」なら、キャラが右方向の画面外にいるとき画面内に入るまで左へ移動します。既に画面内にいれば移動はしません  
**「入力方向」なら、プレイヤーの方向キーの入力方向が移動方向になります。  
  
●　キャラの向きを変えない  
「向き固定」が無効のとき、移動方向に応じて強制的にキャラの向きが変わりますが、これにチェックを入れるとキャラの向きが変わらなくなります。

---

「時間・速度・距離」枠  
  
●　設定タイプ  
移動時間・移動速度・移動距離の設定の仕方です。  
**・時間と速度を指定　…　「実行時間」と「速度」を指定します。移動距離は「実行時間」×「速度」になります。  
・時間と距離を指定　…　「実行時間」と「距離」を指定します。移動速度は「距離」÷「実行時間」になります。  
・速度と距離を指定　…　「速度」と「距離」を指定します。移動時間は「距離」÷「速度」になります。  
**  
●　実行時間(1/10s)  
コマンドの実行時間です。  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　距離  
移動距離です。  
距離の単位を「(hbl)」か「(dot)」かどちらか選ぶことができます。  
※「設定タイプ」が「速度と距離」の場合、「距離(dot)」÷「速度」の結果が0.10以上(-0.10以下)になるように設定しないと正しい速度で移動してくれません。  

---

「慣性」枠  
  
●　慣性  
移動に慣性をつけるかどうか。  
**慣性有効時は「速度」が加速度として扱われます。  
****「距離」は慣性が考慮されていないので、慣性をつけると移動距離が設定した通りになりません。**  
  
●　最大速度  
慣性有効時の移動における最大速度です。  
**「慣性」が有効な移動コマンドを複数同時に実行した場合、「最大速度」はそれらの移動コマンドの中で最も遅い最大速度が適用されます**（正確にはその最大速度＋αですが、詳しくは解説しません）。  
  
●　方向転換時の速度修正  
コマンド実行時に慣性移動速度が移動方向の逆方向にかかっているとき、この値に従って速度を修正します。  
「1.0」なら速度を修正しません。  
この値が高いほど移動方向を短時間で変えることができるので動きやすくなります。  

---

「アニメ」枠  
  
●　アニメ  
アニメーションを変更します。  
・移動アニメ　…　基本アニメセットの「移動」もしくは「飛行移動」になります。  
・静止アニメ　…　基本アニメセットの「静止」もしくは「飛行」になります。  
・その他　…　「なし（変更しない）」なら現在実行中のアニメを続けます。データベースで作成した「アニメ」を指定することもできます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## 移動の無効化

![](/menu_support/actioneditor4_help/commando/MoveStop.jpg)  
  
キャラの移動速度を0にします。  
移動コマンドによる移動はもちろん、**重力や衝撃も無効になります。**  
歩行キャラに対して実行する場合、重力も無効化されるので地に足が着かなくなる点にご注意下さい。（外見ではブロックに乗っているように見えても、プログラムは「ブロックに乗っていない」と判断する）  
  
無効化される速度は、このコマンド実行時に生じている速度に限ります。  
**フローリストは上から下に向かって実行されるので、例えば「移動の無効化」コマンドを設定したフローの下に「直線移動」コマンドを設定したフローがある場合、「移動の無効化」は「直線移動」の前に実行されることになるのでキャラは直線移動してしまいます。**  
確実に全ての移動を無効化したい場合、一番下のフローに「移動の無効化」コマンドを設定すると良いでしょう。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  

[このページの先頭へ](#TOP)

## 向き変更

![](/menu_support/actioneditor4_help/commando/ChangeDir.jpg)  
  
キャラの向きを変更します。  
  
●　向き  
変更後のキャラの向きです。  
「最後にブロックが当たった方を向く」なら、キャラの左右が最後にブロックに触れたのがキャラの左だったら左向きに、キャラの右だったら右向きになります。  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
1/10s間に1回の間隔で向きが変わるので「何連続で向きを変更するか」と考えましょう。  

[このページの先頭へ](#TOP)

## ジャンプ

![](/menu_support/actioneditor4_help/commando/Jump.jpg)  
  
キャラがジャンプします。  
歩行キャラのみに有効なコマンドです。  
**実行時間はジャンプの高さや重力などで変わります。**（コマンドリスト上では実行時間は「?」と表記されます。）  
また、このコマンドは必ず並列実行（「P-?」）になります。  
  
●　ジャンプタイプ  
ジャンプの種類です。  
・高さがキーで調節できない　…　必ず「最大ジャンプ」の高さまでジャンプします。  
・高さがキーで調節できる(主人公のみ有効)　…　ジャンプの高さがキーの押下時間で変化します。**ここでの「キー」とはフローの「キー条件」における最後のキー（キー条件リストの一番下に設定されたキー）のことです。**  
※ジャンプ実行から高さが「最大ジャンプ」に達するまで（正確には「最大ジャンプ」に達する少し前まで）ジャンプキーの入力を受け付けます。もし、高さが「最大ジャンプ」に達する前にフローが終わってしまうと（コマンドリストにおける最後のコマンドが終わってしまうと）それ以降はジャンプキーで高さが調節できません。  
・慣性移動速度に応じて高さを決定(主人公のみ有効)　…　コマンド実行開始時におけるキャラの慣性移動速度によってジャンプの高さが変わります。また、それに加えて**キーの押下時間でもジャンプの高さが変化**します。  
  
●　最大ジャンプ  
最も高いジャンプです。  
  
●　最小ジャンプ  
最も低いジャンプです。  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  

[このページの先頭へ](#TOP)

## ショット

![](/menu_support/actioneditor4_help/commando/Shot.jpg)  
  
キャラがショットを撃ちます。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
1/10s間に1回の間隔で発射されるので「ショットを何連続で発射するか」と考えましょう。  

---

「表示」枠  
●　グラフィック  
ショットのグラフィックです。  
「透明」にチェックを入れるとゲーム中にグラフィックが表示されなくなります。  
  
●　Z座標  
プログラムは「Z座標」が小さい物体から順に描画していきます。  
つまり、「Z座標」が大きいほど手前に表示されることになります。  
尚、「Z座標」が等しい物体が複数ある場合、表示のされ方（表示順）は保障されません。  

---

「発射」枠  
  
●　フォーメーション  
この設定によって、ショットの基本的な発射位置や移動方向（移動速度）が決まります。  
＃フォーメーションの詳細は[「フォーメーションの設定」](../formation/)を参照。フォーメーション固有の設定項目についても解説しています。  
  
●　発射数  
1度に発射するショットの数です。  
  
●　分身数  
ショットの分身数です。  
この値を「1」以上にすると、同じ位置に複数のショットを発射させることができます。  
キャラの分身と同じように、**「分身数」に応じて、各ショットには分身値が設定されます。  
例えば、「分身数」を「2」にすると、分身値が「0」、「1」、「2」の計3つが発射されます。**  
  
●　方向  
発射する方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じた方向に発射します。  
  
●　対象  
一部のフォーメーションにおいてショットの標的となる対象です。  
  
●　ターゲットを狙って角度を設定  
ターゲットに当たるように発射角度を修正するかどうか。  
●　ターゲット  
ショットの標的となるターゲットです。  
「対象」で「ターゲット」を選択した場合、もしくは「ターゲットを狙って角度を設定」にチェックを入れた場合、さらにここでターゲットの種類を指定します。  
これによって発射位置や発射角度が決まります。  
移動タイプに対する「ターゲット」とは別の項目です。  
  
●　角度のズレ  
発射角度のズレです。  
**「使用者が右向きなら逆回転」にチェックを入れると、キャラが右向きの場合に角度の符号(+-)が反転します。  
これによって、キャラが左向きで発射しても右向きで発射してもショットの上下の移動が逆にならずに済みます。**  
  
●　分散角度  
発射角度のバラつきです。  
実際の（分散角度を設定したときの）発射角度は、基本発射角度＋（－「分散角度」～＋「分散角度」←乱数）になります。  
  
●　角度に応じて発射位置を変更  
発射角度に応じてショットの初期位置が変わるかどうか。  
  
●　発射位置のズレX(dot)  
●　発射位置のズレY(dot)  
ショットの初期位置のズレです。  
「右向きなら反転」にチェックを入れると、キャラが右向きの場合にズレの符号(+-)が反転します。  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  

---

「性能」枠  
  
●　勢力  
勢力とは、敵味方を区別するための情報です。  
**勢力が同じキャラやショット同士では当たり判定は行われません。（当たってもダメージや衝撃は受けません）**  
  
●　巨大化  
ショットを何倍に拡大するか。  
  
●　移動タイプ  
ショットの移動タイプです。  
**ショット発射直後の移動方向は「発射」枠の設定（「フォーメーション」等）で決まります。 「移動タイプ」は発射された後の移動方向（移動速度）の変化と考えて下さい。**  
それでは、各移動タイプを説明します。  
  
○　直進  
直進します。  
移動方向は、完全に「発射」枠の設定に準じます。  
  
○　主人公を狙う  
主人公の方へ向かって直進します。  
移動タイプ固有のパラメーターとして「軌道変更(hbl)」が設定できます。  
「軌道変更(hbl)」は主人公の方へ向かうように軌道が修正されるまでの移動距離です。  
  
○　近いキャラを狙う  
任意の勢力の中で最も近いキャラの方へ向かって直進します。  
「無敵（ショットをすり抜ける）」のキャラは対象外となります。  
**ステージの設定「画面外ではダメージを受けない」が有効なら、画面内の敵を優先して狙います（例え画面外の敵の方が近くても画面内の遠い敵の方へ向かいます）。  
**移動タイプ固有のパラメーターとして「軌道変更(hbl)」、「対象勢力」が設定できます。  
「軌道変更(hbl)」は近いキャラの方へ向かうように軌道が修正されるまでの移動距離です。  
「対象勢力」は対象候補となる勢力です。  
  
○　ターゲットを狙う  
ターゲットの方へ向かって直進します。  
移動タイプ固有のパラメーターとして「軌道変更(hbl)」が設定できます。  
「軌道変更(hbl)」はターゲットの方へ向かうように軌道が修正されるまでの移動距離です。  
  
○　主人公へ誘導  
主人公をしつこく追尾します。  
移動タイプ固有のパラメーターとして「誘導開始(hbl)」、「誘導終了(hbl)」が設定できます。  
「誘導開始(hbl)」は誘導効果が発揮されるまでの移動距離です。  
「誘導終了(hbl)」は誘導効果が切れるまでの移動距離です。  
  
○　近いキャラへ誘導（対象死亡時、誘導を無効化）  
任意の勢力の中で最も近いキャラをしつこく追尾します。  
「無敵（ショットをすり抜ける）」のキャラは対象外となります。  
**ステージの設定「画面外ではダメージを受けない」が有効なら、画面内の敵を優先して狙います（例え画面外の敵の方が近くても画面内の遠い敵の方へ向かいます）。  
**誘導対象が死亡すると、ただの直進ショットに変わります。  
移動タイプ固有のパラメーターとして「誘導開始(hbl)」、「誘導終了(hbl)」、「対象勢力」が設定できます。  
「誘導開始(hbl)」は誘導効果が発揮されるまでの移動距離です。  
「誘導終了(hbl)」は誘導効果が切れるまでの移動距離です。  
「対象勢力」は、この移動タイプの対象候補となる勢力です。  
  
○　ターゲットへ誘導  
ターゲットをしつこく追尾します。  
移動タイプ固有のパラメーターとして「誘導開始(hbl)」、「誘導終了(hbl)」が設定できます。  
「誘導開始(hbl)」は誘導効果が発揮されるまでの移動距離です。  
「誘導終了(hbl)」は誘導効果が切れるまでの移動距離です。  
  
○　近いキャラへ誘導（対象死亡時、対象を変更）  
任意の勢力の中で最も近いキャラをしつこく追尾します。  
「無敵（ショットをすり抜ける）」のキャラは対象外となります。  
**ステージの設定「画面外ではダメージを受けない」が有効なら、画面内の敵を優先して狙います（例え画面外の敵の方が近くても画面内の遠い敵の方へ向かいます）。  
**誘導対象が死亡すると、その時点のショットから最も近いキャラへと対象が変わります。  
移動タイプ固有のパラメーターとして「誘導開始(hbl)」、「誘導終了(hbl)」、「対象勢力」が設定できます。  
「誘導開始(hbl)」は誘導効果が発揮されるまでの移動距離です。  
「誘導終了(hbl)」は誘導効果が切れるまでの移動距離です。  
「対象勢力」は対象候補となる勢力です。  
  
○　ウェーブ  
波打ちながら進みます。  
**※上の波の軌道と下の波の軌道とでは若干のズレがあり、ステージの設定「当たり判定レベル」が低いほどこのズレは大きくなります（ショットを真横に撃つ場合の「上の波」と「下の波」です）。**  
移動タイプ固有のパラメーターとして「波の最大(hbl)」、「波の速度」、「開始角度」が設定できます。  
「波の最大(hbl)」は波の大きさです。  
「波の速度」は波の速さです。  
**「開始角度」は波がサイン波でいう何度から開始するかです。ショットを真横に撃つ場合「0」なら上から波ができ、「180」なら下から波ができます。  
**  
○　落下  
歩行キャラと同様に重力を受けて落下します。  
移動タイプ固有のパラメーターとして「軌道変更(hbl)」が設定できます。  
「軌道変更(hbl)」は落下効果が発揮されるまでの移動距離です。  
  
●　ターゲット  
一部の移動タイプにおいて標的となるターゲットです。  
発射位置や発射角度を決める「ターゲット」とは別の項目です。  
  
●　オートスクロールとシンクロ（移動タイプが誘導移動系なら推奨）  
オートスクロール速度分だけショットに速度を加えるかどうか。  
**誘導移動系のショットをオートスクロールとシンクロさせると誘導対象に対する相対速度が左右対称になります。  
例えば横方向のオートスクロール速度が10のとき、誘導移動で左から右へ向かうときと右から左へ向かう時とで誘導対象に対する相対速度が同じになります。**  
  
●　速度  
移動速度です。  
「10」で、1秒間に約60ドット動きます。  
  
●　加速度  
移動加速度です。  
「速度」が「0」だと加速度は無効になります。  
**ショットの誘導移動や「飛距離」は「加速度」が考慮されていないので、加速度をつけると誘導対象の方へ正確に移動できないし飛距離も設定した通りになりません。**  
  
●　飛距離(hbl)  
飛距離です。  
「最後に消滅しない」にチェックを入れると、ショットが飛距離分だけ進んだ後で静止し消滅せずにステージに残ります。  
  
●　存在時間(1/10s)  
存在時間です。  
  
●　ショットに当たると消滅  
ショット同士が当たったときに消滅するかどうか。  
**消滅するタイプのショット同士が当たった場合「消滅値」が低い方のショットだけが消滅します。「消滅値」が同じであればどちらも消滅します。**  
●　ブロックを貫通  
ブロックをすり抜けるかどうか。  
  
●　キャラを貫通  
ブロック化されていないキャラを貫通するかどうか。  
キャラ貫通ショットは、キャラ一体に対して2回以上ヒットしません。  
  
●　ブロックキャラを貫通  
ブロック化されたキャラを貫通するかどうか。  
「無敵」が「ON（ショットをすり抜ける）」のキャラに対しては、このチェックを入れても入れなくてもショットはすり抜ける。  
  
●　威力  
勢力が異なるキャラに当たったとき、相手にどれだけダメージを与えるか。  
実際のダメージ　＝　「威力」　－　相手の「防御力」　です。  
**負の値なら、相手は回復します。**  
  
●　衝撃(hbl)  
勢力が異なるキャラに当たったとき、相手をどれだけ吹っ飛ばすか。  
実際の衝撃　＝　「衝撃」　－　相手の「衝撃耐性」　です。  
**吹っ飛ばす方向は、ショットの移動方向と同じ方向になります。（負の値なら、ショットの移動方向と逆の方向に吹っ飛ばします）**  
**ショットが静止している場合、相手を吹っ飛ばせません。**  
  
●　エフェクト  
勢力が異なるキャラに当たったときに表示するエフェクトです。  
データベース「エフェクト」の中から指定できます。  
  
●　アタック（使用者のアタック関連のタイミングを有効化）  
ショットをアタックとして扱うかどうか。  
**アタック（を有効にしたショット）がキャラに当たった場合、アタック使用者（親キャラ）のアタック関連のタイミングが成立します（タイミング「アタックでダメージを与えたとき」等）。**  
「有効なフロー(ID)」ではIDを指定して実行するフローを限定することができます。  
  
●　取得アイテム  
勢力が異なる主人公に当たったときに主人公が取得するアイテムです。  
アイテムパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**

[このページの先頭へ](#TOP)

## ソード

![](/menu_support/actioneditor4_help/commando/Sword.jpg)  
  
キャラがソード（剣）を振ります。  
ソードの向きは必ずキャラの向きと同じになります。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
しかし、ここでは設定することができません。  
「ソードタイプ」の設定に準じます。  

---

「性能」枠  
  
●　勢力  
勢力とは、敵味方を区別するための情報です。  
**勢力が同じキャラやショット同士では当たり判定は行われません。（当たってもダメージや衝撃は受けません）**  
  
●　ソードタイプ  
これでグラフィックや実行時間、当たり判定範囲などが決まります。  
データベース「ソードタイプ」の中から指定できます。  
＃ソードタイプの詳細は[メインメニュー「プロジェクト」＞「データベース」](../menu_project_database/#SWORDTYPE)を参照  
  
●　巨大化  
ソードを何倍に拡大するか。  
  
●　威力  
勢力が異なるキャラに当たったとき、相手にどれだけダメージを与えるか。  
実際のダメージ　＝　「威力」　－　相手の「防御力」　です。  
**負の値なら、相手は回復します。**  
  
●　衝撃(hbl)  
勢力が異なるキャラに当たったとき、相手をどれだけ吹っ飛ばすか。  
実際の衝撃　＝　「衝撃」　－　相手の「衝撃耐性」　です。  
**吹っ飛ばす方向は、ソードの向き（＝使用者の向き）と同じ方向になります。（負の値なら、その逆の方向に吹っ飛ばします）**  
  
●　エフェクト  
勢力が異なるキャラに当たったときに表示するエフェクトです。  
データベース「エフェクト」の中から指定できます。  
  
●　アタック（使用者のアタック関連のタイミングを有効化）  
ソードをアタックとして扱うかどうか。  
**アタック（を有効にしたソード）がキャラに当たった場合、アタック使用者（親キャラ）のアタック関連のタイミングが成立します（タイミング「アタックでダメージを与えたとき」等）。**  
「有効なフロー(ID)」ではIDを指定して実行するフローを限定することができます。  
  
●　取得アイテム  
勢力が異なる主人公に当たったときに主人公が取得するアイテムです。  
アイテムパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**

---

「表示」枠  
  
●　透明  
チェックを入れるとゲーム中にソードのグラフィックが表示されなくなります。  
  
●　Z座標  
プログラムは「Z座標」が小さい物体から順に描画していきます。  
つまり、「Z座標」が大きいほど手前に表示されることになります。  
尚、「Z座標」が等しい物体が複数ある場合、表示のされ方（表示順）は保障されません。  

---

「その他」枠  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  

[このページの先頭へ](#TOP)

## ブロック召喚

![](/menu_support/actioneditor4_help/commando/SummonBlock.jpg)  
  
キャラがブロックを出現させたり消したりします。  
**ただし、召喚先のブロックが「ブロック召喚を無効化」するタイプならブロック召喚は失敗します。**  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
1/10s間に1回の間隔で召喚されるので「ブロックを何連続で召喚するか」と考えましょう。  

---

「召喚ブロック」枠  
  
●　召喚タイプ  
ブロック召喚のタイプです。  
・ブロックを召喚　…　ブロックを出現させます。召喚先に既にブロックが存在する場合、そのブロックを変更します。  
・ブロックを消す　…　ブロックを消します。  
・ブロックがなければ召喚、ブロックがあれば消す　…　召喚先にブロックが存在しなければブロックを出現させます。召喚先に既にブロックが存在する場合、そのブロックを消します。  
  
**※ブロックの召喚先が、まだ出現条件が満たされていないブロックのマスの場合でも召喚によって出現条件共々上書きされてしまうので、ブロック召喚後に出現条件が満たされることがあっても召喚前のブロックは出現しない。**  
  
●　（召喚ブロック）  
召喚するブロックデータです。  
ブロックパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**  
●　召喚先に、ブロックに当たる主人公がいれば失敗  
召喚先に、ブロックに当たるタイプの主人公がいるとブロック召喚が失敗するかどうか。  
**これにチェックを入れると、主人公が自分に近い位置にブロックを召喚する場合に召喚に失敗することが多くなるのでプレイヤーとしてはストレスがたまります。  
**  
●　召喚先に、ブロックに当たる敵がいれば失敗  
召喚先に、ブロックに当たるタイプの敵がいるとブロック召喚が失敗するかどうか。  

---

「召喚位置」枠  
  
●　フォーメーション  
この設定によって、ブロックの基本的な出現位置が決まります。  
＃フォーメーションの詳細は[「フォーメーションの設定」](../formation/)を参照  
  
●　数  
1度に召喚するブロックの数です。  
**ブロックの召喚位置はブロック単位（32×32）でしか変化がないので、ブロックの数を「2」にして召喚しようとしても、その2つのブロックの位置が被ると結果としてブロック1つしか召喚されません。  
**  
●　方向  
召喚する方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じた方向に召喚します。  
  
●　対象  
一部のフォーメーションにおいて召喚の標的となる対象です。  
  
●　ターゲット  
「対象」で「ターゲット」を選択した場合、さらにここでターゲットの種類を指定します。  
  
●　召喚位置のズレX(dot)  
●　召喚位置のズレY(dot)  
召喚位置のズレです。  
**ブロックの召喚位置はブロック単位（32×32）でしか変化がなく「フォーメーション」や「方向」の設定だけでは意図したところにブロックが召喚されない場合も多いので、ここで微調整して下さい。**  
「使用者が右向きなら反転」にチェックを入れると、キャラが右向きの場合にズレの符号(+-)が反転します。  

---

「その他」枠  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  
  

---

●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに召喚1回のブロック増減数が入ります。  
召喚1回(実行時間1)ごとに戻り値が代入される点に注意が必要です。例えば、実行時間2の場合は召喚2回で出したブロックの合計にはならず、最後に召喚したブロックの数になります。  
**召喚先がステージ外の場合は召喚失敗になり召喚数にカウントされません。**  

[このページの先頭へ](#TOP)

## キャラ召喚

![](/menu_support/actioneditor4_help/commando/SummonChara.jpg)  
  
キャラがキャラを出現させます。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
1/10s間に1回の間隔で召喚されるので「キャラを何連続で召喚するか」と考えましょう。  

---

「召喚キャラ」枠  
  
●　（召喚キャラ）  
召喚するキャラデータです。  
キャラパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**  
●　存在時間(1/10s)  
キャラが召喚されてから消滅するまでの時間です。  
  
●　勢力  
勢力とは、敵味方を区別するための情報です。  
**勢力が同じキャラやショット同士では当たり判定は行われません。（当たってもダメージや衝撃は受けません）**  
  
●　向き反転（使用者の逆の向きになる）  
通常、召喚キャラの向きは使用者と同じ向きになりますが、その向きを逆にするかどうか。  
  
●　アタック（使用者のアタック関連のタイミングを有効化）  
召喚したキャラをアタックとして扱うかどうか。  
**アタックがキャラに当たった場合、アタック使用者（親キャラ）のアタック関連のタイミングが成立します（タイミング「アタックでダメージを与えたとき」等）。**  
「有効なフロー(ID)」ではIDを指定して実行するフローを限定することができます。  
  
●　獲得スコアを0にする  
召喚キャラの「スコア」を「0」にするかどうか。  
これにチェックを入れておけば、キャラ召喚を繰り返す敵を相手に延々とスコアを稼げてしまうのを防止できます。  
  

---

「召喚位置」枠  
  
●　フォーメーション  
この設定によって、キャラの基本的な出現位置が決まります。  
＃フォーメーションの詳細は[「フォーメーションの設定」](../formation/)を参照  
  
●　数  
1度に召喚するキャラの数です。  
  
●　方向  
召喚する方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じた方向に召喚します。  
  
●　対象  
一部のフォーメーションにおいて召喚の標的となる対象です。  
  
●　ターゲット  
「対象」で「ターゲット」を選択した場合、さらにここでターゲットの種類を指定します。  
  
●　召喚位置のズレX(dot)  
●　召喚位置のズレY(dot)  
召喚位置のズレです。  
「使用者が右向きなら反転」にチェックを入れると、キャラが右向きの場合にズレの符号(+-)が反転します。  

---

「その他」枠  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  

---

●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに召喚1回のキャラの召喚数が入ります。  
召喚1回(実行時間1)ごとに戻り値が代入される点に注意が必要です。例えば、実行時間2の場合は召喚2回で出したキャラの合計にはならず、最後に召喚したキャラの数になります。  
**召喚先がステージ外の場合、キャラ召喚では召喚失敗にはならず召喚数にカウントされます（キャラなら召喚後の移動によってステージ外からステージ内に入ってくる可能性もあるためこのような仕様となっている）。**  

[このページの先頭へ](#TOP)

## アイテム召喚

![](/menu_support/actioneditor4_help/commando/SummonItem.jpg)  
  
キャラがアイテムを出現させます。  
  
●　並列実行  
このコマンドの次に設定されたコマンドと並行して実行するかどうか。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  
1/10s間に1回の間隔で召喚されるので「アイテムを何連続で召喚するか」と考えましょう。  

---

「召喚アイテム」枠  
  
●　（召喚アイテム）  
召喚するアイテムデータです。  
アイテムパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**  
●　存在時間(1/10s)  
アイテムが召喚されてから消滅するまでの時間です。  
  

---

「召喚位置」枠  
  
●　フォーメーション  
この設定によって、アイテムの基本的な出現位置が決まります。  
＃フォーメーションの詳細は[「フォーメーションの設定」](../formation/)を参照  
  
●　数  
1度に召喚するアイテムの数です。  
  
●　方向  
召喚する方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じた方向に召喚します。  
  
●　対象  
一部のフォーメーションにおいて召喚の標的となる対象です。  
  
●　ターゲット  
「対象」で「ターゲット」を選択した場合、さらにここでターゲットの種類を指定します。  
  
●　召喚位置のズレX(dot)  
●　召喚位置のズレY(dot)  
召喚位置のズレです。  
「使用者が右向きなら反転」にチェックを入れると、キャラが右向きの場合にズレの符号(+-)が反転します。  

---

「その他」枠  
  
●　アニメ  
コマンド実行時のアニメーションです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　効果音  
コマンド実行時の効果音です。  
データベース「効果音」の中から指定できます。  

[このページの先頭へ](#TOP)

## フローの操作

![](/menu_support/actioneditor4_help/commando/Flow.jpg)  
  
自分自身やターゲットのフローを操作します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　実行条件（枠）  
コマンドの実行条件です。  
この条件が成立しなかった場合、フローの操作は行われません。  
  
○　条件あり  
条件を設定するかどうか。  
  
○　条件リスト  
条件は複数設定することができます。  
＃条件リストの設定における詳細は[「出現条件リスト・フローの基本条件（実行条件）リストの設定」](../cond/)を参照  
  
○　判定タイプ  
基本条件リストを基に、最終的にどうやって条件判定するか。  
ここで「真」とは設定された条件が満たされたことを言います。  
  
●　操作  
操作設定は「　[対象キャラ]　の　[対象フロー]　を　[操作内容]　」の形式で設定します。  
  
○　対象キャラ  
誰のフローを操作するか。  
  
○　対象フロー  
・このフロー　…　設定中のフローが対象になります。  
・このフロー以外全て　…　設定中のフロー以外の全てのフローが対象になります。  
・IDで指定　…　指定したIDと一致する全てのフローが対象になります。  
  
○　操作内容  
・開始　…　フローを開始します。**フローの実行条件に関係なく無条件でコマンドを実行します。**  
・終了　…　実行中のフローを終了します。  
・一時停止　…　実行中のフローを一時的に停止します。フローが「再開」されるまで停止し続けます。また、**フローの実行を抑制する効果もあります。**（「再開」されるまでフローの実行を抑制します）  
・再開　…　「一時停止」中のフローを再開します。  
・削除　…　フローを削除して実行不可能にします。※  
・永久停止　…　フローを永久停止して実行不可能にします。※  
  
※　「削除」も「永久停止」も結果は同じですが実行速度に差があります。  
**「削除」の処理自体は（削除する瞬間は）「永久停止」より遅いですが、長期的には少し速くなりメモリもその場で解放されます。  
ただ、あまり深く考える必要はありません。  
通常は「削除」の方を使い、「削除」を使用したキャラを多く配置するなどしてフレームレート（FPS）が不安定になった場合は「永久停止」を試すくらいで十分でしょう。**  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに操作が成功したら1、操作が失敗したら2が入ります。  
操作に失敗するケースとしては、実行条件が不成立だった場合です。  

[このページの先頭へ](#TOP)

## フローの変更

![](/menu_support/actioneditor4_help/commando/ChangeFlow.jpg)  
  
アイテム取得キャラ（＝主人公）のフローを変更します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　操作  
・追加　…　「フローの設定」で設定したフローを追加します。  
・変更　…　「削除ID」で指定したIDと一致する全てのフローを削除した後、**その削除した中で最もフローリストの上にあったフローの位置に**「フローの設定」で設定したフローを挿入します。  
・削除　…　「削除ID」で指定したIDと一致する全てのフローを削除して実行不可能にします。  

[このページの先頭へ](#TOP)

## ステージクリア

![](/menu_support/actioneditor4_help/commando/Clear.jpg)  
  
ステージをクリアします。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　ステージの移行  
次にプレイするステージを指定します。  
・次のステージへ　…　次の番号のステージへ移行します。**次の番号のステージが存在しない場合はワールドクリアとなります。　※**  
・番号で指定　…　「番号」で指定されたステージへ移行します。**指定された番号のステージが存在しない場合はワールドクリアとなります。　※**  
・パスで指定　…　任意のステージへ移行します。「参照」ボタンを押してステージファイルを選択することができます。尚、「パスで指定」したステージのステージ番号は移行前の（1つ前の）ステージと同じとして扱われます。  
・ワールドクリア　…　ワールドクリアとします。ワールドクリア後はワールドマップまたはステージセレクトへ戻ります。  
  
※複数のステージでワールドを構成する場合、ステージファイル名の最後に「-」（ハイフン）とステージ番号をつけること。  
さらにワールドマップの「開始ステージ」にステージ番号1番のステージを指定すること。  
例：「stage-1.stg4_*」、「stage-2.stg4_*」、「stage-3.stg4_*」……　**※必ず「stage-1.stg4_*」から始める。**  
こうしないと「次のステージへ」「番号で指定」「パスで指定」のいずれも失敗します。  
ただし、「パスで指定」するステージのファイル名だけは自由です。  
その代わり、「パスで指定」ではステージ番号は現在の番号のまま変更されません（ステージファイル名の「-」の後の番号にはならない）ので、移行先のステージで「次のステージへ」（次の番号のステージへ）とする場合には注意が必要です。この解説が理解できない、もしくはシンプルに考えたい場合、「次のステージへ」と「番号で指定」だけを使うか、「パスで指定」だけを使うか、どちらかにして下さい。  
  
**※プログラムはワールドにおける開始ステージのファイル名を記憶し、ワールドがクリアされるまで保持します。  
開始ステージのファイル名が「A-1.stg4_***」（***はバージョン）だとすれば、そのワールドはワールドがクリアされるまで「A」として扱われます。  
例えば、以下のようにワールドをステージ「A-1」から始めたのに「番号で指定」でステージ「Z」の2番に飛ぶことはできません。ステージ「A-1」から始めた場合、「番号で指定」で2番を指定すると「A-2」に移行します。  
  
例：（開始ステージ）A-1.stg4_***　→　（パスで指定）Z-1.stg4_***　→　（番号で指定）2 →　ワールドクリア  
このとき、「A-1」→「Z-1」→「A-2」の順でプレイすることになる。「A-2」であって「Z-2」ではない。  
**  
●　次のステージの初期位置を強制的に変更  
同一ワールド内における次に遊ぶステージで、主人公の初期位置と向きを強制的に変更するかどうか。  
ステージの座標「X(bl)」と「Y(bl)」で指定して下さい。主人公の向きも変えられます  
  
●　ワールドマップ上のワープ  
ワールドをクリアしたとき、ワールドマップ上の主人公の位置を変更するかどうか。  
ワールドマップの座標「X」と「Y」で指定して下さい。  
**ワールドが存在する座標をワープ先にすれば、そのワールドを強制的に続けてプレイさせることができます。  
**  
●　次のステージ開始前にオートセーブを実行  
もし、この後にもステージが控えているならオートセーブを実行するかどうか。  
これにチェックを入れると、複数のステージで構成されたワールドにおいてワールドの途中でセーブすることができます。  
ストーリーモードのワールドマップメニューの設定で「オートセーブON」になっている必要があります。  
※「つづきから」でワールドの途中から再開（2ステージ目以降をプレイ）するとき、再開するステージのファイルが削除されていたりファイル名が変更されていたりするとステージのロードに失敗してしまい、それ以上のワールドの攻略が不可能になるだけでなくワールドマップにも戻れなくなります。特に**インターネット上で作品を既に公開していてそれをバージョンアップする場合は、2ステージ目以降のステージファイルを削除しない＆ファイル名を変更しないように**気をつけましょう。  
  
●　リプレイの自動保存でファイル名の最後に「_CLEAR_」文字を付加  
リプレイの自動保存時のファイル名の最後に「_CLEAR_」文字を付加するか。  
「_CLEAR_」がついているリプレイファイルは、オプションモードの「リプレイ再生順」が「ソート順＆ステージクリアのみ」のときに再生対象になります。  
通常はONでいいと思います。  
**OFFの使い所としては、例えばフローのタイミングが「死亡した時」に「ステージクリア」コマンドを設定していて「死亡時でもハイスコアなどを記録したいけど、ステージクリアとしては扱ってほしくない」ケース**で、この場合はリプレイの自動保存時に「_CLEAR_」文字を付加しないことでステージクリアしていないリプレイファイルとして保存させることができます。  

[このページの先頭へ](#TOP)

## ゲームウエイト

![](/menu_support/actioneditor4_help/commando/GameWait.jpg)  
  
ゲーム全体を止めます。  
ゲームウエイト中は、プレイヤーのキー入力（ポーズも含む）も受け付けなくなります。  
  
●　実行時間(1/10s)  
コマンドの実行時間です。  

[このページの先頭へ](#TOP)

## メッセージ

![](/menu_support/actioneditor4_help/commando/Message.jpg)  
  
文章を表示します。  
  
●　#C1～999.でコモン変数、#S1～999.でステージ変数、#v1～8でキャラ変数、#f1～2でフロー変数を表示  
「#C1～999.」や「#S1～999.」、「#v1～8.」、「#f1～2.」（**←全て半角**）を変数の値に置き換えて表示するかどうか。  
「C」はコモン変数、「S」はステージ変数、「v」はキャラ変数、「f」はフロー変数を表し、その後の「1～999」が変数の番号になります。  
**フロー変数はアルファベットではなく変数番号で指定します。例えば、「#f1.」ならフロー変数Aの値を表示します。**  
変数の番号の後に「_」（アンダーバー）をつけて、その後に「最大桁数」・「z」・「p」のオプションを付加することができます。  
少し複雑なのでエディターで挙がっている例を見ながらやって下さい。  
最後の「.」（半角ピリオド）は、なくても問題なく表示されると思いますが一応付けて下さい。  
  
●　自動で更新（変数の変化に対応）  
メッセージで表示中の変数の値が変わったときに、すぐに表示を更新するかどうか。  
コモン変数とステージ変数のみに対応していて、**もしキャラ変数かフロー変数が表示されるメッセージでこの設定を有効にしてしまうと、キャラ変数とフロー変数の表示部分が「?」になってしまいます。**  
**有効にすると少し重くなるが、メッセージコマンドを常時実行して更新するよりはずっと軽くなります。  
メッセージ中の変数の値が変わらない限りは描画内容の更新もされないので、変数が変化する頻度が低いほど軽くなります。変数の表示桁数が変わってメッセージ全体の幅が変わる場合（その瞬間は）重くなります。  
**  
●　更新間隔（1/60s）  
「自動で更新」が有効な場合の更新チェックをする間隔。  
例えば「1」にすると毎フレーム更新チェックをします。「6」にすると1秒間に10回更新チェックをします。  
メッセージ中の変数の値が変わらない限りは描画内容も更新されないので「1」でもほとんど負荷にならないことが多いですが、**変数の値が頻繁に変わる場合は更新間隔を空けると動作が軽くなります。**  
  
●　変数（参考、リネームに）（枠）  
ここで変数名を確認したり変数名を変更することができます。  
ゲームには影響しません。  
  
●　#R*.で選択肢を設定  
メッセージ文の中に「#R*.」（**←全て半角**）を1つ以上配置して選択肢の機能を利用するか。  
「*」の部分がプレイヤーがその選択肢を選んだ時の戻り値の数値になるので、選択肢に応じて処理を分岐させることができます。  
ゲームでは「#R*.」のスペースに選択肢を選ぶためのカーソルが表示されますが、カーソルは↑キーと↓キーで移動するため「#R*.」は縦並びを推奨します。  
「*」の後に「_」（アンダーバー）をつけて、その後に「D」「C1～999」「S1～999」「v1～8」「f1～2」のオプションを付加することでカーソルの初期位置を変更することもできます。  
**フロー変数はアルファベットではなく変数番号で指定します。例えば、「f1」ならフロー変数Aを指定します。**  
少し複雑なのでエディターで挙がっている例を見ながらやって下さい。  
最後の「.」（半角ピリオド）は、なくても問題ないと思いますが一応付けて下さい。  
  
●　ウインドウの表示  
メッセージウインドウを表示するかどうか。  
  
●　メッセージの消去(メッセージIDが非設定なら消去は失敗)  
指定したメッセージIDのメッセージを消去します。  
ピクチャーの消去とは異なり、IDが非設定だと消去は失敗します。  
  
●　メッセージID　☆同一IDのメッセージと今回のメッセージを入れ替える  
ここでメッセージIDを設定しておけば、任意のタイミングでメッセージを入れ替えたり消去したりすることができるようになります。  
プログラムはメッセージコマンド実行の際、まず指定されたメッセージIDのメッセージをステージから探して消去し、その後で今回設定されたメッセージを表示します。  
  
●　表示位置  
メッセージの表示位置です。  
「　[表示位置タイプ]　[単位]　」の形式で設定します。  
[表示位置タイプ]の種類は次のとおりです。  
・画面座標で指定（左上を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、メッセージの左上の座標を指定します。  
・画面座標で指定（中心を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、メッセージの中心の座標を指定します。  
・ステージ座標で指定（左上を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、メッセージの左上の座標を指定します。  
・ステージ座標で指定（中心を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、メッセージの中心の座標を指定します。  
（上記以外の選択項目の説明は省略）  
  
●　座標X(bl)  
●　座標Y(bl)  
「表示位置」が「画面座標で指定」または「ステージ座標で指定」のときの座標です。  
●　表示位置のズレX(dot)  
●　表示位置のズレY(dot)  
メッセージの表示位置のズレです。  
  
●　画面からはみ出ないように自動調整  
「表示位置」で指定したメッセージが画面からはみ出るとき、それをギリギリ画面からはみ出ない位置に調整して表示させるかどうか。  
  
●　画面に追従する（スクロールしても位置が変わらない）  
ゲームが一時停止しないメッセージを表示する場合に、メッセージが画面に追従して表示されるかどうか（ステージがスクロールしてもメッセージの表示位置が変わらないか）  
  
●　表示時間  
メッセージの表示時間です。  
進行キーが押されるまで表示　…　メッセージ進行キー（通常ならZキー）が押されるまで表示します。メッセージ進行キーが押されるまではゲーム全体が一時停止します。  
ステージ終了まで表示　…　ステージ終了まで表示します。  
時間で指定　…　「時間」が経過するまで表示します。  
  
●　時間(1/10s)  
「表示時間」が「時間で指定」のときのメッセージの表示時間です。  
「瞬間表示(1/60s)」にチェックを入れると1/60秒間だけ表示されます。  
  
●　一時停止  
「表示時間」が「時間で指定」のとき、メッセージ表示中にゲーム全体が一時停止するかどうか。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに「#R*.で選択肢を設定」の設定に応じた値が入ります。  

[このページの先頭へ](#TOP)

## ワープ

![](/menu_support/actioneditor4_help/commando/Warp.jpg)  
  
キャラが瞬時に移動します。  
ワープ対象キャラがブロックに当たるタイプの場合、ワープ先にブロックがあるとコマンドは失敗します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　設定タイプ  
・方向と距離で指定　…　コマンド実行時におけるキャラの位置からの「方向」と「距離」で指定します。  
・ターゲット(1～4)からの方向と距離で指定　…　コマンド実行時におけるターゲット(1～4)の位置からの「方向」と「距離」で指定します。  
・目標座標で指定　…　「目標」座標で指定します。  
  
●　方向  
ワープする方向です。  
「入力方向」なら、プレイヤーの方向キーの入力に応じた方向にワープします。  
  
●　距離(hbl)  
ワープする距離です。  
  
●　目標タイプ  
ワープ目標となる座標のタイプです。  
「　[座標タイプ]　[単位]　」の形式で設定します。  
[座標タイプ]の種類は次の通りです。  
・相対座標　…　コマンド実行時におけるキャラの中心を座標(0,0)とした相対座標です。  
・絶対座標　…　ステージ座標です。ステージの一番左上を座標(0,0)とします。  
・画面座標　…　ゲーム画面の一番左上を座標(0,0)とします。  
  
●　巨大化キャラの座標位置  
座標タイプが「絶対座標」か「画面座標」の場合のみに有効な設定です。  
ワープ対象キャラが巨大化されたキャラのとき、キャラのどの位置の座標を指定するか。  
・キャラの中心　…　ワープ対象キャラの中心が指定した座標になります。  
・キャラの中央下　…　ワープ対象キャラの中央下が指定した座標になります。**座標を(bl)単位で指定する場合は、ステージエディットでその座標にキャラを配置したときの初期位置と同じ**になるため、「キャラの中心」よりも使い勝手がいいかもしれません。  
・歩行なら中央下、飛行なら中心　…　ワープ対象キャラの飛行がOFFなら「キャラの中央下」、ワープ対象キャラの飛行がONなら「キャラの中心」になります。これは「巨大化キャラの座標位置」の設定項目自体がまだなかった**バージョン8.90以前の動作と同じ**です。  
なお、ワープ対象キャラが巨大化していないキャラの場合、この設定に関係なくキャラの中心になります。  
  
●　目標X(bl)  
●　目標Y(bl)  
ワープ目標となる座標です。  
XかYどちらか一方を無効にしたり、ドット単位でずらすこともできます。  
「目標タイプ」が「相対座標」のときに「右向きなら反転」にチェックを入れると、キャラが右向きの場合に目標座標の符号(+-)が反転します。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aにワープが成功したら1、ワープが失敗したら2が入ります。  
ワープに失敗するケースとしては、ワープ先にブロックがあって圧死する場合と、ターゲットが無効な場合です。  

[このページの先頭へ](#TOP)

## ターゲットの設定

![](/menu_support/actioneditor4_help/commando/Target.jpg)  
  
自分のターゲットを変更します。  
ターゲットとは一部の移動コマンドにおける目的地、ショットなどの標的となるものです。  
「突撃移動」、「ショット」、「ステータスの操作」コマンドなどでターゲットを利用します。  
ちなみに、**デフォルトでは「ターゲット1」は主人公に、「ターゲット2」～「ターゲット4」は空（誰も指していない）に設定されています**。  
**※もしターゲットが空だったり死亡するなどしてステージ上から消えていた場合、ターゲットを用いたコマンドは失敗し、ターゲットを用いた条件も必ず不成立になります。**  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　基本設定  
「　[変更したいターゲット]　を　[対象]　にする　」の形式で基本的な設定をします。  
  
○　変更したいターゲット  
このコマンドで変更するターゲットです。  
  
○　対象  
ターゲットにする対象です。  
・主人公　…　主人公をターゲットにします。  
・自分　…　自分をターゲットにします。  
・最も近いキャラ　…　任意の勢力の中で最も近いキャラをターゲットにします。  
・キャラ(キャラIDで指定)　…　勢力やキャラIDなどを指定して条件に合ったキャラをターゲットにします。  
・親キャラ（自分を召喚したキャラ）　…　親キャラをターゲットにします。親キャラがいない場合（誰にも召喚されていないか親キャラが死亡したした場合）は失敗します。  
・子キャラ（最後に召喚したキャラ）　…　最後に召喚したキャラをターゲットにします。  
・子キャラ（条件付き。後で召喚したキャラ優先）　…　後続で設定した条件を満たした子キャラの中で、最も後で召喚したキャラをターゲットにします。  
・ターゲット(1～4)　…　自分自身のターゲット同士を入れ替えます。  
  
●　対象範囲  
「対象」が「最も近いキャラ」のとき、どの範囲までをターゲットの候補にするか。  
  
●　対象勢力  
ターゲットの候補にする勢力です。  
  
●　対象キャラID  
ターゲットの候補にするキャラIDです。  
  
●　キャラ変数条件  
キャラ変数の値を条件にしてターゲットの候補を決めます。  
設定方法は出現条件やフローの基本条件のそれと同じです。  
**「～の倍数である」の倍数には0や負の値も含まれます。  
例えば「コモン変数 が 2 の倍数である」なら0や-2でも条件が成立します。  
**  
●　自分は対象外  
自分をターゲットの候補から除外するかどうか。  
  
●　無敵（ショットが当たる）キャラは対象外  
「無敵（ショットが当たる）」キャラをターゲットの候補から除外するかどうか。  
  
●　無敵（ショットがすり抜ける）キャラは対象外  
「無敵（ショットがすり抜ける）」キャラをターゲットの候補から除外するかどうか。  
  
●　ブロックキャラは対象外  
ブロック化されたキャラをターゲットの候補から除外するかどうか。  
  
●　該当者無しなら  
このコマンドの実行において、ターゲットの候補が一体もいなかった場合の動作です。  
「ターゲット無し」なら、ターゲットを用いたコマンドは失敗し、ターゲットを用いた条件も必ず不成立になります。  
「ターゲットを変更しない」なら、ターゲットはそのまま（このコマンドを実行する直前の状態）になります。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aにターゲットが存在するなら1、ターゲットが存在しないなら2が入ります。  
フロー変数Bにターゲットが変更されたら1、ターゲットがそのままなら2が入ります。  
**今回のコマンド実行によってターゲット無しから有りになったとき、またはターゲット有りから無しになったときもターゲットが変更されたとみなされて戻り値は1**になります。  

[このページの先頭へ](#TOP)

## ステータスの操作

![](/menu_support/actioneditor4_help/commando/Status.jpg)  
  
キャラやシステムにおける数値タイプのステータスを操作します。  
操作内容は単純な計算式で設定します。  
ウインドウ中央の演算子より左を左辺、右を右辺として説明します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　（左辺）  
操作対象です。  
「止まりやすさ」は、正しくは「慣性移動時の止まりやすさ」です。  
**「システム」の「残り人数」を指定した場合、人数が∞（無限）だと必ずこのコマンドは失敗します（人数無限は変えられない）。人数の設定で∞にしていなくても、ステージ単体のテストプレイ中は自動的に人数が∞になるので注意が必要です。**  
**「X座標」と「Y座標」は、キャラの位置を瞬時に移動させますが、プログラム内部では実は「ワープ」コマンドが呼び出されます。なので、キャラがブロックに当たるタイプで移動先にブロックがあるとコマンドが失敗するなどの仕様もワープと同じです。**  
  
●　演算子  
計算方法です。  
**・「＝」　…　左辺に右辺を代入します。  
**・「＋」　…　左辺に右辺を足します。  
・「－」　…　左辺から右辺を引きます。  
・「×」　…　左辺に右辺をかけます。  
・「÷」　…　左辺を右辺で割ります。  
**・「÷ X の余り」　…　左辺を右辺で割り、その余りになります。  
****・「X ％」　…　右辺を左辺に対するパーセンテージとして計算します。例えば右辺が「50（％）」なら左辺（結果）は元の値の半分になります。  
**  
●　（右辺）  
計算値です。  
定数・乱数の他、左辺と同様にステータスを指定することもできます。  
**「システム」の「残り人数」を指定した場合、人数∞（無限）は100として計算されます。人数の設定で∞にしていなくても、ステージ単体のテストプレイ中は自動的に人数が∞になるので注意が必要です。**  
  
●　キャラの頭上にバーを表示  
「HP」か「SP」を操作するとき、キャラの頭上にバーを表示するかどうか。  
  
●　対象キャラ（左辺）が無敵なら無効  
対象キャラが無敵ならこのコマンドを無効化するかどうか。  
  
●　％で指定  
右辺を左辺に対するパーセンテージとして計算するかどうか。  
例えば、値が10のキャラ変数に対して「キャラ変数　- 20(％)」を実行すると、キャラ変数の20％の2が引かれて結果は8になります。  
  
●　（計算タイプ）  
左辺が「HP」か「SP」のときのみ有効な設定です。  
この設定によって右辺の扱われ方が変わります。  
・通常の計算　…　右辺を（パーセンテージではなく）ただの値として指定します。  
・最大値に対する％で指定　…　対象キャラの最大HPを100（％）としたパーセンテージで指定します。  
・現在値に対する％で指定　…　対象キャラのHPの現在値を100（％）としたパーセンテージで指定します。  
  
●　座標タイプ  
各辺が「X座標」か「Y座標」のときのみに有効な設定です。  
この設定によって原点(0,0)が変わります。  
・相対座標　…　自分（コマンドを実行するキャラ）の位置を座標(0,0)とした相対座標です。  
・絶対座標　…　ステージ座標です。ステージの一番左上を座標(0,0)とします。  
・画面座標　…　ゲーム画面の一番左上を座標(0,0)とします。  
いずれの座標タイプもブロック単位(bl)ではなく、ドット単位(dot)です。（ちなみに1blは32dot）  
  
●　巨大化キャラの座標位置  
座標タイプが「絶対座標」か「画面座標」の場合のみに有効な設定です。  
操作先のキャラが巨大化されたキャラのとき、キャラのどの位置の座標を指定するか。  
・キャラの中心　…　操作先のキャラの中心が指定した座標になります。  
・キャラの中央下　…　操作先のキャラの中央下が指定した座標になります。**座標を(bl)単位で指定する場合は、ステージエディットでその座標にキャラを配置したときの初期位置と同じ**になるため、「キャラの中心」よりも使い勝手がいいかもしれません。  
・歩行なら中央下、飛行なら中心　…　操作先のキャラの飛行がOFFなら「キャラの中央下」、操作先のキャラの飛行がONなら「キャラの中心」になります。これは「巨大化キャラの座標位置」の設定項目自体がまだなかった**バージョン8.90以前の動作と同じ**です。  
なお、操作先のキャラが巨大化していないキャラの場合、この設定に関係なくキャラの中心になります。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに操作が成功したら1、操作が失敗したら2が入ります。  
操作に失敗するケースとしては、ターゲットが無効だったり、コマンドの設定が正しくない（例えばプレイヤーキャラにしか意味がない操作を敵キャラに行っている）場合、キャラの座標を変更しようとしたがその先にブロックがあって圧死する場合です。  
フロー変数Bに値の変化量が入ります。  
例えば、操作前にとある変数が3だったとして、操作後に5になったとしたら(+)2がフロー変数Bに入ります。  
**フロー変数Bには操作が成功した場合に限り正しい値が入ります。**

[このページの先頭へ](#TOP)

## ステータスの操作2

![](/menu_support/actioneditor4_help/commando/Status2.jpg)  
  
キャラやシステムにおける数値でないタイプのステータスを操作します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
「　[対象キャラ（システム）]　の　[対象ステータス]　を　[結果]　」の形式で設定します。  
  
[対象ステータス]の「消滅」を「ON」にするとキャラが消滅します。  
敵に対して「消滅」を行う場合、死亡とは違いスコアや敵が所持しているアイテムは入手できません。  
  
[対象ステータス]の「飛行」の操作は主人公のみに有効です。  
「飛行」状態切り替えのオプションとして、「位置記憶」と「圧死回避」のチェック項目があります。  
「圧死回避」にチェックを入れると、圧死の可能性が生じた場合にキャラの位置を「位置記憶」で記憶した位置に戻します。  
位置記憶と圧死回避は、歩行状態から一時的に短時間飛行移動させたい場合などに利用すると安全です。特に飛行OFFから飛行ON(ブロックに当たる)にすると対ブロックの当たり判定範囲が小さくなり、その後の飛行OFFでブロックに挟まれることがありますが、そうなったときに圧死を回避できます。  
例：飛行OFFのキャラに対して　→　飛行ON（位置記憶ON)　→　飛行移動　→　飛行OFF（圧死回避ON)  
※ただし、圧死が確実に防げる代わりに、圧死の可能性が少しあるだけでキャラの位置が戻されてしまいます。  
  
特に巨大化でキャラを大きくすると飛行ON(ブロックに当たる)と飛行OFFとで対ブロックの当たり判定範囲の差が大きくなり思わぬ場面での圧死が起こりやすいので、この機能を利用すべきかもしれません。  
歩行状態から飛行状態への切り替えだけでなく、「飛行（ブロックに当たる）」→「飛行（ブロックをすり抜ける）」→「飛行（ブロックに当たる）」なども安全に実行できます。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aに操作が成功したら1、操作が失敗したら2が入ります。  
操作に失敗するケースとしては、ターゲットが無効だったり、コマンドの設定が正しくない（例えばプレイヤーキャラにしか意味がない操作を敵キャラに行っている）場合です。  

[このページの先頭へ](#TOP)

## 消滅

![](/menu_support/actioneditor4_help/commando/Vanish.jpg)  
  
指定した勢力の全てのキャラまたはショットを消滅させます。  
STGの弾消し（ボム）等に非常に有効です。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　対象  
消滅対象です。  
「子以下のキャラ」では、子キャラ（自分が召喚したキャラ）だけでなく孫キャラ（子キャラが召喚したキャラ）以下も消滅します。ただし、**プログラムは親から子へ、子から孫へと順に辿って子キャラ以下を探すため、既に子が死亡したり消滅していた場合は孫まで消滅処理が行き渡りません。**  
「子以下のキャラと孫以下のショット」は、自分が出したショット以外を消滅させます。  
  
●　対象範囲  
消滅対象となる範囲です。  
  
●　対象勢力  
消滅対象となる勢力です。  
  
●　フロー変数に戻り値を代入  
コマンド終了時に、コマンドの実行結果をフロー変数に代入するかどうか。  
フロー変数Aにキャラの消滅数が入ります。  
フロー変数Bにショットの消滅数が入ります。  

[このページの先頭へ](#TOP)

## アイテムの取得

![](/menu_support/actioneditor4_help/commando/GetItem.jpg)  
  
主人公がアイテムを取得します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　取得アイテム  
主人公が取得するアイテムです。  
アイテムパレットの中から指定できます。  
**※コモンパレットのデータからはステージパレットを指定できません。  
**※このコマンドで「フローの変更」コマンドを含んだアイテムを取得させた直後は、そのアイテムによって追加されたフローに対して「フローの操作」コマンドが実行できません！（1/10s後なら問題なく操作できます。）  

[このページの先頭へ](#TOP)

## グラフィックの変更

![](/menu_support/actioneditor4_help/commando/Graphic.jpg)  
  
キャラのグラフィックを変更します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　グラフィック  
変更後のキャラのグラフィックです。  

[このページの先頭へ](#TOP)

## 基本アニメセットの変更

![](/menu_support/actioneditor4_help/commando/AnimSet.jpg)  
  
キャラの基本アニメセットを変更します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　アニメセット  
変更後のキャラの基本アニメセットです。  
データベース「基本アニメセット」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  

[このページの先頭へ](#TOP)

## アニメの実行

![](/menu_support/actioneditor4_help/commando/Anim.jpg)  
  
キャラのアニメーションを実行します。  
**このコマンドで実行されたアニメーションは、もちろん基本アニメセットのアニメよりは優先度が高くなっていますが、「アニメの実行」以外のコマンド（例えば「ショット」）で設定されたアニメよりは優先度が低くなっています。  
例えば「アニメの実行」コマンドと「ショット」コマンドを同時に行うと、実際のアニメーションは「ショット」に設定された方になります。  
**このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　アニメ  
実行するアニメです。  
データベース「アニメ」の中から指定できます。  
＃アニメーションの詳細は[「キャラのアニメーション」](../animation/)を参照。  
  
●　このアニメを終了する  
「アニメ」で指定したアニメを実行せずに終了するかどうか。  

[このページの先頭へ](#TOP)

## エフェクトの実行

![](/menu_support/actioneditor4_help/commando/Effect.jpg)  
  
エフェクトを実行します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　エフェクト  
実行するエフェクトです。  
データベース「エフェクト」の中から指定できます。  
  
●　表示位置  
エフェクトの表示位置です。  
「　[表示位置タイプ]　[単位]　」の形式で設定します。  
[表示位置タイプ]の種類は次のとおりです。  
・画面座標で指定（左上を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、エフェクトの左上の座標を指定します。  
・画面座標で指定（中心を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、エフェクトの中心の座標を指定します。  
・ステージ座標で指定（左上を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、エフェクトの左上の座標を指定します。  
・ステージ座標で指定（中心を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、エフェクトの中心の座標を指定します。  
（上記以外の選択項目の説明は省略）  
  
●　座標X(bl)  
●　座標Y(bl)  
「表示位置」が「画面座標で指定」または「ステージ座標で指定」のときの座標です。  
  
●　表示位置のズレX(dot)  
●　表示位置のズレY(dot)  
エフェクトの表示位置のズレです。  
  
●　拡大率(%)  
エフェクトの拡大率です。  
**「100」（％）以外にすると画像が粗くなり実行速度も落ちます。**  
  
●　キャラより手前に表示  
キャラ・アイテム・ショット等より手前に表示するかどうか。  
  
●　一時停止  
エフェクトが終了するまでゲーム全体を一時停止するかどうか。  

[このページの先頭へ](#TOP)

## キャラエフェクトの実行

![](/menu_support/actioneditor4_help/commando/CharaEffect.jpg)  
  
自分に対してキャラエフェクトを実行します。  
キャラ一体に対して複数のキャラエフェクトを同時に実行することはできません。  
このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　キャラエフェクト  
実行するキャラエフェクトです。  
データベース「キャラエフェクト」の中から指定できます。  
  
●　実行タイプ  
キャラエフェクトの実行の仕方です。  
・通常実行　…　データベース「キャラエフェクト」で設定された通りに実行します。  
**・反転実行　…　キャラエフェクトを逆から実行します。  
・往復実行　…　「通常実行」の後に「反転実行」をします。  
**  
●　ループ実行  
キャラエフェクトの実行を繰り返すかどうか。  

[このページの先頭へ](#TOP)

## 画面エフェクトの実行

![](/menu_support/actioneditor4_help/commando/ScrEffect.jpg)  
  
画面エフェクトを実行します。  
複数の画面エフェクトを同時に実行することはできません。  
このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　画面エフェクト  
実行する画面エフェクトです。  
データベース「画面エフェクト」の中から指定できます。  
  
●　実行タイプ  
画面エフェクトの実行の仕方です。  
・通常実行　…　データベース「画面エフェクト」で設定された通りに実行します。  
**・反転実行　…　画面エフェクトを逆から実行します。  
・往復実行　…　「通常実行」の後に「反転実行」をします。  
**  
●　ループ実行  
画面エフェクトの実行を繰り返すかどうか。  

[このページの先頭へ](#TOP)

## ピクチャーの表示

![](/menu_support/actioneditor4_help/commando/Picture.jpg)  
  
ピクチャーを表示します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　ピクチャー  
表示するピクチャーです。  
データベース「ピクチャー」の中から指定できます。  
「ピクチャーの消去（ID非設定なら全消去）」で任意のピクチャーIDのピクチャーを消去することもできます。  
  
●　ピクチャーID　☆同一IDのピクチャーと入替  
ここでピクチャーIDを設定しておけば、任意のタイミングでピクチャーを入れ替えたり消去したりすることができるようになります。  
プログラムは「ピクチャーの表示」コマンドを実行の際、まず指定されたピクチャーIDのピクチャーをステージから探して消去し、その後で今回設定されたピクチャーを表示します。  
  
●　表示位置  
ピクチャーの表示位置です。  
「　[表示位置タイプ]　[単位]　」の形式で設定します。  
[表示位置タイプ]の種類は次のとおりです。  
・画面座標で指定（左上を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、ピクチャーの左上の座標を指定します。  
・画面座標で指定（中心を指定）　…　画面座標で指定します。ゲーム画面の一番左上を座標(0,0)として、ピクチャーの中心の座標を指定します。  
・ステージ座標で指定（左上を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、ピクチャーの左上の座標を指定します。  
・ステージ座標で指定（中心を指定）　…　ステージ座標で指定します。ステージの一番左上を座標(0,0)として、ピクチャーの中心の座標を指定します。  
（上記以外の選択項目の説明は省略）  
  
●　座標X(bl)  
●　座標Y(bl)  
「表示位置」が「画面座標で指定」または「ステージ座標で指定」のときの座標です。  
  
●　表示位置のズレX(dot)  
●　表示位置のズレY(dot)  
ピクチャーの表示位置のズレです。  
  
●　拡大率(%)  
ピクチャーの拡大率です。  
**「100」（％）以外にすると画像が粗くなり実行速度も落ちます。**  
  
●　縦の拡大率(%)  
この項目にチェックを入れると「拡大率(%)」が横方向の拡大率になり、「縦の拡大率(%)」が縦方向の拡大率になります。  
  
●　左右反転  
●　上下反転  
ピクチャーの左右または上下を反転して表示するか。  
Direct3D使用時のみ有効です。  
  
●　画面に追従する（スクロールしても位置が変わらない）  
ゲームが一時停止しないピクチャーを表示する場合に、ピクチャーが画面に追従して表示されるかどうか（ステージがスクロールしてもピクチャーの表示位置が変わらないか）  
  
●　キャラより手前に表示  
キャラ・アイテム・ショット等より手前に表示するかどうか。  
  
●　表示時間  
ピクチャーの表示時間です。  
・進行キーが押されるまで表示　…　メッセージ進行キー（通常ならZキー）が押されるまで表示します。メッセージ進行キーが押されるまではゲーム全体が一時停止します。  
・ステージ終了まで表示　…　ステージ終了まで表示します。  
・時間で指定　…　「時間」が経過するまで表示します。  
  
●　時間(1/10s)  
「表示時間」が「時間で指定」のときのピクチャーの表示時間です。  
「瞬間表示(1/60s)」にチェックを入れると1/60秒間だけ表示されます。  
  
●　一時停止  
「表示時間」が「時間で指定」のとき、ピクチャー表示中にゲーム全体が一時停止するかどうか。  

[このページの先頭へ](#TOP)

## 画面の色を変更

![](/menu_support/actioneditor4_help/commando/ScrColor.jpg)  
  
画面を任意の色と合成して画面の色合いを変更します。  
DirectDrawモードではカラーパレットを変更するだけなので、画面が256色(8bit)の環境でないと効果がありません。（ビットマップが256色でも「System.ini」における画面の色数が256色以外だと、このコマンドは無効になります。）  
Direct3Dモードであれば画面が16bitや32bitでも色を変更することができます。**バージョン5.96以前では、画面の色を変更すると画面エフェクトの実行速度が極端に遅くなりましたが、バージョン6.06で改善されました。**  
このコマンドは、並列実行タイプで実行時間は0（「P-0(*)」）です。  
  
●　R  
●　G  
●　B  
画面と合成する色です。  
RGB値（R=赤、G=緑、B=青）で指定して下さい。  
  
●　%  
合成比率です。  
「100」（％）なら画面が「R」「G」「B」で指定された色で染まります。  
**このコマンドは文字やカーソルの色まで合成してしまうので、合成比率が高いほど文字やカーソルも見えづらくなってしまいます。  
**  
●　元の色に戻す  
これにチェックを入れると、このコマンドによって変更された画面の色を、元の画面の色に戻すことができます。  
  
●　変更に要する時間(1/10s)  
画面の色変更に要する時間です。  
**この時間が長いほど、ゆっくり色が変化します。  
**  
●　瞬間表示  
画面の色を変更する時間を一瞬だけにするかどうか。  
「瞬間表示回数」は瞬間表示する回数です。  

[このページの先頭へ](#TOP)

## 背景の変更

![](/menu_support/actioneditor4_help/commando/Back.jpg)  
  
ステージ背景を変更します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
＃ステージ背景の仕様については[メインメニュー「ステージ」＞「ステージの設定」](../menu_stage_set/#BACK)を参照  
  
●　背景番号  
変更対象となる背景番号（ステージの背景リストで何番目の背景か）です。  
  
●　（表示/非表示）  
背景の表示設定です。  
・表示　…　背景を表示します。  
・非表示　…　背景を表示にしないようにします。  
・反転（表示⇔非表示）　…　背景が表示されていれば非表示にします。背景が表示されていなければ表示します。  

[このページの先頭へ](#TOP)

## 効果音の再生

![](/menu_support/actioneditor4_help/commando/Sound.jpg)  
  
効果音を再生します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　効果音  
再生する効果音です。  
データベース「効果音」の中から指定できます。  
  
●　キャラが画面外なら再生しない  
キャラが画面外にいるときは再生しないかどうか。  

[このページの先頭へ](#TOP)

## BGMの再生

![](/menu_support/actioneditor4_help/commando/Bgm.jpg)  
  
BGMを再生します。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
●　BGM  
再生するBGMです。  
データベース「BGM」の中から指定できます。  
  
●　ループ再生  
繰り返し再生するかどうか。  

[このページの先頭へ](#TOP)

## コードの実行

![](/menu_support/actioneditor4_help/commando/Code.jpg)  
  
1つの代入式（コード）で表現された命令を実行します。  
これは上級者向けのコマンドですし、「ステータスの操作」で代替が可能なので無理に覚える必要はありません。 ですが、こちらは1度に多くの計算をさせることができます。  
**ただし、「コードの実行」ではコマンド実行時にゲームプログラムがコードを解析し始めるので、実は「ステータスの操作」よりも若干実行速度が遅くなることが多いです。**  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
**※バージョン7.51以前では、「=」を除いて演算子が2つ以上ある式で、「=」を除いて最も左にある演算子の計算結果が式全体の結果になってしまうバグが存在します（詳細はダウンロードページの更新履歴にて）。  
正常な計算結果を得るにはバージョンを7.52以降にして、システムの設定で「「コードの実行」コマンドの動作は、バージョン7.51以前の動作を適用する」のチェックを外す（最新版の動作にする）必要があります。  
**  
**※小数には対応していません。計算過程（演算子1つに対する計算結果）においても小数点以下は切り捨てられます。  
**例えば、何かしらのパーセンテージ(%)をコモン変数3番(C3)に代入しようとして「C3 = C1 / C2 * 100」（「コモン変数3番 = コモン変数1番 ÷ コモン変数2番 × 100」の意味）というコードを実行するとします。  
仮にC1が1、C2が2だったとしたら結果は50(%)にはなりません。「C1 / C2」の時点で小数点以下が切り捨てられて0.5が0.0になるのでそれに100を掛けても0(%)になってしまいます。（ちなみにこのケースなら「C3 = C1 * 100 / C2」という風に「* 100」を先に書くと解決します）  
  
●　コード  
コマンドの内容です。  
半角英数字と演算子を使って1つの**代入式(「=」を使った式)を作ります。**  
**演算子と値（定数や変数）の間は必ず半角スペースで区切って下さい。  
**※計算過程で値が-2147483648～2147483647の範囲を超えると正常な結果が得られません！  
**※0で除算されることがないようにして下さい。0除算が行われるとコマンドは必ず失敗します。  
**  
それでは、各キーワードについて説明します。  
  
○　オブジェクト  
キャラ、またはシステムを表します。オブジェクトの後に「.」（半角ピリオド）を付けてステータスを参照することができます。  
・my　…　自分です。「my」は省略することができます。**「my」を省略すると実行速度が微妙に上がります。**  
・tg1～4　…　ターゲットです。tg1ならターゲット1、tg2ならターゲット2……  
・tg　…　ターゲット1です。tgはtg1と同じ。  
・pl　…　主人公です。  
・sys　…　システムです（ステージの設定も含まれる）。  
  
○　ステータス（キャラ）  
「オブジェクト.」の後に以下のキーワードを記述すると、各ステータスを参照することができます。  
・v1～8　…　キャラ変数の1～8番です。  
・hp　…　HPの現在値です。HPが変化するとキャラの頭上のバーも表示されます。  
・sp　…　SPの現在値です。SPが変化するとキャラの頭上のバーも表示されます。  
・mhp　…　HPの最大値です。  
・msp　…　SPの最大値です。  
・cid　…　キャラIDです。  
・x_rel　…　X座標（相対座標）です。自分（コマンド実行キャラ）を原点(0,0)とする相対座標で、単位はドット(dot)。※  
・x_abs　…　X座標（絶対座標）です。単位はドット(dot)。※  
・x_scr　…　X座標（画面座標）です。単位はドット(dot)。※  
・y_rel　…　Y座標（相対座標）です。自分（コマンド実行キャラ）を原点(0,0)とする相対座標で、単位はドット(dot)。※  
・y_abs　…　Y座標（絶対座標）です。単位はドット(dot)。※  
・y_scr　…　Y座標（画面座標）です。単位はドット(dot)。※  
・z　…　Z座標です。  
・mark　…　マークの番号です。  
・sight　…　視界の範囲(hbl)です。  
・power　…　体当たりの威力です。  
・imp　…　体当たりの衝撃(hbl)です。  
・def　…　防御力です。  
・impd　…　衝撃耐性です。  
・stop　…　慣性移動時の止まりやすさです。  
・getsc　…　獲得スコアです。  
  
※**コードの実行によるX座標やY座標の操作（代入）では、プログラム内部では実は「ワープ」コマンドが呼び出されます。なので、キャラがブロックに当たるタイプで移動先にブロックがあるとコマンドが失敗するなどの仕様もワープと同じです。**「ワープ」コマンドでいうところの**「巨大化キャラの座標位置」の設定は「歩行なら中央下、飛行なら中心」で固定（ただし、バージョン8.90では「キャラの中心」）**なので使いづらい場面も多々あるかと思います。  
  
○　ステータス（システム）  
「sys.」の後に以下のキーワードを記述すると、各ステータスを参照することができます。  
・time　…　制限時間の残り時間です。  
・scrlx　…　横スクロール速度です。  
・scrly　…　縦スクロール速度です。  
・score　…　スコアです。  
・life　…　残り人数です。**人数が∞（無限）の場合、左辺（代入先）ならコマンドに失敗します（人数無限は変えられない）。右辺なら100として計算されます。人数の設定で∞にしていなくても、ステージ単体のテストプレイ中は自動的に人数が∞になるので注意が必要です。**  
  
○　変数  
変数値です。  
・C1～999　…　コモン変数の1～999番です。  
・S1～999　…　ステージ変数の1～999番です。  
・v1～8　…　キャラ変数の1～8番です。  
・fA,fB　…　フロー変数A、Bです。  
・rA,rB　…　フロー変数A、Bです。fA,fBでもrA,rBでもどちらを使っても結果は同じです。  
  
○　演算子  
計算方法です。  
・=　…　代入します。  
・+　…　足します。  
・-　…　引きます。  
・*　…　かけます。  
・/　…　割ります。  
・%　…　割った余りになります。**※「ステータスの操作」コマンドの「%」演算子とは意味が異なる。**  
  
○　関数  
0個以上の値を基に特定の計算を行い、その結果を返してくれるのが関数です。  
今はrandしか用意されていません（恐らく今後もずっと…）。  
・rand(最小値,最大値)　…　「最小値」～「最大値」の範囲の乱数を発生します。  
  
○　その他  
・()　…　計算の優先順位を変更します。例えば「hp = (hp + sp) / 2」。  
  
これ以上言葉で説明するのは無意味な気がするので、あとはエディターで挙げた例を見て勉強して下さい。  
  
●　変数（参考、リネームに）（枠）  
ここで変数名を確認したり変数名を変更することができます。  
ゲームには影響しません。  

[このページの先頭へ](#TOP)

## アレンジ

![](/menu_support/actioneditor4_help/commando/Arrange.jpg)  
  
このコマンドの次に実行する「アレンジ」以外のコマンドの数値タイプの設定項目を、変数を使って編集します。  
例えばショットやソードの「威力」やメッセージやピクチャーの「座標X(bl)」（表示位置）を変数の値にすることができます。  
このコマンドは、並列実行タイプで実行時間は0（「P-0」）です。  
  
**※アレンジが実行されるのは対象のコマンド開始時に限ります。一度コマンドが開始すればそのコマンドが終了するまで値は変わりません。例えば、実行時間2（2連射）のショットに対して「威力」＝「変数A」とした場合、1発目が撃ち終わった後で「変数A」の値が変わっても2発目には反映されません。**  
  
**1つのコマンドに対して、複数アレンジを実行することもできます。**  
例えば、下記のようにアレンジを連続して実行すればショットの「威力」を「主人公の攻撃力」（という名前をつけた変数）、「速度」を「主人公の弾速」に置き換えられます。  
＜例＞  
P-0 ◆ アレンジ ◆ 次のショットの「威力」＝「主人公の攻撃力」（という変数）  
P-0 ◆ アレンジ ◆ 次のショットの「速度」＝「主人公の弾速」（という変数）  
1 ◆ ショット ◆  
  
  
アレンジは、  
[アレンジするコマンド]  
[左辺（アレンジする設定項目）]　[演算子]　[右辺（変数）]  
の形式で設定します。  
  
●　アレンジするコマンド  
アレンジの対象となるコマンドです。  
アレンジとアレンジ対象コマンド（例でいえば「ショット」）の間にアレンジとアレンジ対象コマンド以外のコマンドが入るとアレンジは失敗します。  
＜例＞  
P-0 ◆ アレンジ ◆ 次のショットの「威力」＝「主人公の攻撃力」（という変数）  
P-0 ◆ アレンジ ◆ 次のショットの「速度」＝「主人公の弾速」（という変数）  
10 ◆ 直線移動 ◆  
1 ◆ ショット ◆ ←アレンジは無効！  
  
●　（左辺）  
アレンジの対象となる設定項目です。  
コマンド全般の「実行時間」や移動系コマンドの「速度」など数値タイプでもアレンジ不可能な設定項目もかなり多くあります。  
ここが「×　非対応」となっている場合、全ての設定項目がアレンジ不可能です。  
  
●　演算子  
計算方法です。  
**・「＝」　…　左辺に右辺を代入します。  
**・「＋」　…　左辺に右辺を足します。  
・「－」　…　左辺から右辺を引きます。  
・「×」　…　左辺に右辺をかけます。  
・「÷」　…　左辺を右辺で割ります。  
**・「÷ X の余り」　…　左辺を右辺で割り、その余りになります。  
****・「X ％」　…　右辺を左辺に対するパーセンテージとして計算します。例えば右辺が「50（％）」なら左辺（結果）は元の値の半分になります。  
**演算子の種類は「ステータスの条件」コマンドの演算子と同じです。  
「＝」以外の場合、左辺の値と変数との演算になります。  
  
●　（右辺）  
変数です。  
アイテムからコマンドを実行させる場合、「キャラ変数」を指定すると主人公のキャラ変数が適用されます。  

[このページの先頭へ](#TOP)

## ループ

![](/menu_support/actioneditor4_help/commando/Loop.jpg)  
  
「ループ」は指定した範囲のコマンドを指定した回数だけ繰り返します。  
繰り返したいコマンドをコピー＆ペーストしたのと結果は同じですが、後々修正が必要になったときに修正が楽になります。  
  
ループ処理では（プログラム内部では）ループ範囲やループ回数に応じてループ部分がコマンドリストに複製されます。  
重要なのは、ループ処理はステージ開始前に行われるということです。  
エディター上では「P-0」（並列実行かつ実行時間が0）と表記されますが、実際はステージ開始前に全てのループコマンドが実行されます。  
**※ループ範囲が広すぎたりループ回数が多すぎるとループ処理が重くなり、ステージの開始に時間がかかるので注意が必要です。**  
  
**1つのフローにループコマンドが複数存在する場合は、先頭のコマンドから（コマンドリストの上から）順番にループ処理が実行されます。**  
＜例＞  
P-0 ◆ ループ ◆ 後続 3 個のコマンドを 2 回繰り返す  
10 ◆ 直線移動 ◆  
P-0 ◆ ループ ◆ 後続 1 個のコマンドを 2 回繰り返す  
1 ◆ ショット ◆  
  
↓（プログラム内部で）ループ処理！  
  
10 ◆ 直線移動 ◆  
P-0 ◆ ループ ◆ 後続 1 個のコマンドを 2 回繰り返す  
1 ◆ ショット ◆  
10 ◆ 直線移動 ◆  
P-0 ◆ ループ ◆ 後続 1 個のコマンドを 2 回繰り返す  
1 ◆ ショット ◆  
  
↓  
  
10 ◆ 直線移動 ◆  
1 ◆ ショット ◆  
1 ◆ ショット ◆  
10 ◆ 直線移動 ◆  
P-0 ◆ ループ ◆ 後続 1 個のコマンドを 2 回繰り返す  
1 ◆ ショット ◆  
  
↓  
  
10 ◆ 直線移動 ◆  
1 ◆ ショット ◆  
1 ◆ ショット ◆  
10 ◆ 直線移動 ◆  
1 ◆ ショット ◆  
1 ◆ ショット ◆  
  
こうゆう流れで処理されます。  
  

[このページの先頭へ](#TOP)

---

  

[次のトピックへ](../cond/)

[ヘルプ目次へ](..)